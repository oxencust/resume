<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>Ë°°ÈªûÊáâËÅòÂ±•Ê≠∑Ë°®</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }

        body {
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #e2ede6 0%, #daedec 50%, #faece8 100%);
            min-height: 100vh;
            padding: 15px;
            position: relative;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        @media (min-width: 768px) {
            body {
                padding: 20px;
            }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(122, 193, 154, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(159, 204, 204, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(242, 172, 152, 0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(95, 132, 111, 0.15);
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 480px) {
            .container {
                border-radius: 16px;
            }
        }

        .header {
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            padding: 40px 20px;
            text-align: center;
            color: #ffffff;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 150px;
            height: 150px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
        }

        .header h1 {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            font-size: 15px;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .section {
            padding: 25px 15px;
            display: none;
        }

        @media (min-width: 768px) {
            .section {
                padding: 30px 20px;
            }
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 22px;
            color: #5f846f;
            margin-bottom: 25px;
            font-weight: bold;
            border-left: 5px solid #7ac19a;
            padding-left: 15px;
            position: relative;
        }

        .question-card {
            background: linear-gradient(135deg, #fcf4e3 0%, #fffbf0 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            border: 2px solid #ffe08b;
            box-shadow: 0 4px 12px rgba(186, 158, 96, 0.08);
            transition: all 0.3s ease;
        }

        @media (min-width: 768px) {
            .question-card {
                padding: 24px;
                margin-bottom: 18px;
            }
        }

        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(186, 158, 96, 0.12);
        }

        @media (hover: none) {
            .question-card:hover {
                transform: none;
            }
        }

        .question-number {
            display: inline-block;
            background: #ba9e60;
            color: #ffffff;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            font-size: 14px;
            font-weight: bold;
            margin-right: 10px;
        }

        .question-text {
            font-size: 15px;
            color: #5f846f;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .toggle-buttons {
            display: flex;
            gap: 8px;
        }

        @media (min-width: 768px) {
            .toggle-buttons {
                gap: 10px;
            }
        }

        .toggle-btn {
            flex: 1;
            padding: 14px 16px;
            border: none;
            background: #ffffff;
            border-radius: 16px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 700;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            color: #5f846f;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }

        @media (min-width: 768px) {
            .toggle-btn {
                padding: 16px 20px;
            }
        }

        .toggle-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s;
        }

        .toggle-btn:hover::before {
            transform: scale(2);
        }

        .toggle-btn:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .toggle-btn span {
            position: relative;
            z-index: 1;
            display: inline-block;
            transition: transform 0.3s;
        }

        .toggle-btn:hover span {
            transform: scale(1.1);
        }

        .toggle-btn.yes {
            background: linear-gradient(135deg, #e2ede6 0%, #daedec 100%);
        }

        .toggle-btn.yes:hover {
            background: linear-gradient(135deg, #daedec 0%, #c8e3de 100%);
        }

        .toggle-btn.no {
            background: linear-gradient(135deg, #faece8 0%, #f5e0db 100%);
        }

        .toggle-btn.no:hover {
            background: linear-gradient(135deg, #f5e0db 0%, #edd4cd 100%);
        }

        .toggle-btn.active.yes {
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            color: #ffffff;
            box-shadow: 0 10px 30px rgba(122, 193, 154, 0.5), 
                        0 0 0 4px rgba(122, 193, 154, 0.2);
            transform: translateY(-2px) scale(1.05);
        }

        .toggle-btn.active.yes::after {
            content: '‚úì';
            position: absolute;
            top: 8px;
            right: 12px;
            font-size: 14px;
            animation: checkBounce 0.5s;
        }

        @keyframes checkBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .toggle-btn.active.no {
            background: linear-gradient(135deg, #f2ac98 0%, #f2c0b4 100%);
            color: #ffffff;
            box-shadow: 0 10px 30px rgba(242, 172, 152, 0.5),
                        0 0 0 4px rgba(242, 172, 152, 0.2);
            transform: translateY(-2px) scale(1.05);
        }

        .toggle-btn.active.no::after {
            content: '‚úì';
            position: absolute;
            top: 8px;
            right: 12px;
            font-size: 14px;
            animation: checkBounce 0.5s;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 15px;
            color: #5f846f;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-label.required::after {
            content: " *";
            color: #f2ac98;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e2ede6;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            background: #ffffff;
        }

        .form-input:focus {
            outline: none;
            border-color: #7ac19a;
            background: #f8fcfa;
            box-shadow: 0 0 0 4px rgba(122, 193, 154, 0.1);
        }

        .file-upload {
            border: 2px dashed #9fcccc;
            border-radius: 16px;
            padding: 35px 20px;
            text-align: center;
            background: linear-gradient(135deg, #daedec 0%, #e8f5f4 100%);
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 15px;
        }

        .file-upload:hover {
            border-color: #7ac19a;
            background: linear-gradient(135deg, #e2ede6 0%, #f0f7f5 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(159, 204, 204, 0.15);
        }

        .file-upload input {
            display: none;
        }

        .file-upload-icon {
            font-size: 40px;
            color: #9fcccc;
            margin-bottom: 10px;
        }

        .file-upload-text {
            color: #66888e;
            font-size: 14px;
        }

        .file-size-warning {
            color: #f2ac98;
            font-size: 12px;
            margin-top: 5px;
            font-weight: 600;
        }

        .total-size-display {
            margin-top: 10px;
            padding: 8px 12px;
            background: linear-gradient(135deg, #fcf4e3 0%, #fffbf0 100%);
            border-radius: 8px;
            border: 1px solid #ffe08b;
            font-size: 13px;
            color: #5f846f;
            font-weight: 600;
            text-align: center;
        }

        .total-size-display.warning {
            background: linear-gradient(135deg, #faece8 0%, #fff5f2 100%);
            border-color: #f2ac98;
            color: #c67566;
        }

        .file-name {
            background: #e2ede6;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 13px;
            color: #5f846f;
            display: none;
        }

        .file-name.show {
            display: block;
        }

        .file-preview-container {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #f8fcfa;
            border-radius: 12px;
            border: 2px solid #e2ede6;
        }

        .file-preview-container.show {
            display: block;
        }

        .file-preview-title {
            font-size: 14px;
            font-weight: 700;
            color: #5f846f;
            margin-bottom: 10px;
        }

        .file-preview-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .file-preview-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #ffffff;
            border-radius: 8px;
            border: 1px solid #e2ede6;
        }

        .file-preview-icon {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 6px;
            border: 1px solid #e2ede6;
        }

        .file-preview-icon.pdf {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f2ac98 0%, #ffe08b 100%);
            color: #ffffff;
            font-size: 20px;
            font-weight: bold;
        }

        .file-preview-icon.doc {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            color: #ffffff;
            font-size: 20px;
            font-weight: bold;
        }

        .file-preview-info {
            flex: 1;
        }

        .file-preview-name {
            font-size: 13px;
            font-weight: 600;
            color: #5f846f;
            margin-bottom: 3px;
            word-break: break-all;
        }

        .file-preview-size {
            font-size: 11px;
            color: #808080;
        }

        .file-preview-remove {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #f2ac98;
            color: #ffffff;
            border: none;
            cursor: pointer;
            font-size: 16px;
            line-height: 24px;
            text-align: center;
            transition: all 0.3s;
        }

        .file-preview-remove:hover {
            background: #e09684;
            transform: scale(1.1);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }

        @media (min-width: 768px) {
            .btn {
                padding: 18px 24px;
                font-size: 17px;
            }
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 400px;
            height: 400px;
        }

        .btn:hover {
            transform: translateY(-5px) scale(1.02);
        }

        .btn:active {
            transform: translateY(-2px) scale(0.98);
        }

        .btn span {
            position: relative;
            z-index: 1;
        }

        .btn-prev {
            background: linear-gradient(135deg, #66888e 0%, #5f846f 100%);
            color: #ffffff;
            box-shadow: 0 6px 20px rgba(102, 136, 142, 0.4);
        }

        .btn-prev:hover {
            background: linear-gradient(135deg, #5f846f 0%, #4a6859 100%);
            box-shadow: 0 10px 35px rgba(102, 136, 142, 0.5);
        }

        .btn-prev::after {
            content: '‚Üê';
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            transition: left 0.3s;
        }

        .btn-prev:hover::after {
            left: 15px;
        }

        .btn-next {
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            color: #ffffff;
            box-shadow: 0 6px 20px rgba(122, 193, 154, 0.4);
        }

        .btn-next:hover {
            background: linear-gradient(135deg, #9fcccc 0%, #7ac19a 100%);
            box-shadow: 0 10px 35px rgba(122, 193, 154, 0.5);
        }

        .btn-next::after {
            content: '‚Üí';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            transition: right 0.3s;
        }

        .btn-next:hover::after {
            right: 15px;
        }

        .btn-submit {
            background: linear-gradient(135deg, #f2ac98 0%, #ffe08b 100%);
            color: #5f846f;
            box-shadow: 0 6px 20px rgba(242, 172, 152, 0.4);
        }

        .btn-submit:hover {
            background: linear-gradient(135deg, #ffe08b 0%, #f2ac98 100%);
            box-shadow: 0 10px 35px rgba(255, 224, 139, 0.6);
        }

        .btn-submit::after {
            content: '‚úì';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%) scale(0);
            font-size: 24px;
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            color: #5f846f;
        }

        .btn-submit:hover::after {
            transform: translateY(-50%) scale(1);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            margin: 0;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                rgba(122, 193, 154, 0.1) 0%, 
                rgba(159, 204, 204, 0.1) 100%);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7ac19a 0%, #9fcccc 50%, #f2ac98 100%);
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 0;
            position: relative;
            z-index: 1;
            box-shadow: 0 0 20px rgba(122, 193, 154, 0.5);
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.3) 50%, 
                transparent 100%);
            animation: shimmerProgress 2s infinite;
        }

        @keyframes shimmerProgress {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 8px;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            filter: blur(2px);
        }

        .progress-container {
            position: relative;
            background: linear-gradient(180deg, rgba(0,0,0,0.03) 0%, transparent 100%);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: absolute;
            top: -2px;
            left: 0;
            right: 0;
            z-index: 2;
            padding: 0 0;
        }

        .progress-step {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ffffff;
            border: 3px solid #e2ede6;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .progress-step.active {
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            border-color: #7ac19a;
            transform: scale(1.4);
            box-shadow: 0 4px 15px rgba(122, 193, 154, 0.5);
        }

        .progress-step.completed {
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            border-color: #7ac19a;
            box-shadow: 0 2px 8px rgba(122, 193, 154, 0.3);
        }

        .progress-step.completed::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffffff;
            font-size: 8px;
            font-weight: bold;
        }

        @media (max-width: 480px) {
            .progress-step {
                width: 10px;
                height: 10px;
                border-width: 2px;
            }

            .progress-step.active {
                transform: scale(1.3);
            }
        }

        .value-slider-container {
            background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 2px solid #e2ede6;
            transition: all 0.3s ease;
        }

        .value-slider-container:hover {
            box-shadow: 0 6px 20px rgba(122, 193, 154, 0.15);
            border-color: #7ac19a;
        }

        .value-item {
            margin-bottom: 25px;
            padding: 18px;
            background: linear-gradient(135deg, #fafcfb 0%, #ffffff 100%);
            border-radius: 12px;
            border: 1px solid #e8f0ed;
            transition: all 0.3s ease;
        }

        .value-item:hover {
            background: linear-gradient(135deg, #f0f7f5 0%, #fafcfb 100%);
            border-color: #7ac19a;
            transform: translateY(-2px);
        }

        .value-item:last-child {
            margin-bottom: 0;
        }

        .value-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .value-label {
            font-weight: 700;
            color: #5f846f;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .value-label::before {
            content: '‚óè';
            color: #7ac19a;
            font-size: 12px;
        }

        .value-display {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .value-number {
            font-weight: 800;
            color: #7ac19a;
            font-size: 22px;
            min-width: 30px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(122, 193, 154, 0.2);
        }

        .value-max {
            font-size: 13px;
            color: #9fcccc;
            font-weight: 600;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(to right, 
                #e2ede6 0%, 
                #9fcccc 50%, 
                #7ac19a 100%);
            outline: none;
            transition: all 0.3s;
            position: relative;
        }

        .slider:hover {
            height: 12px;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(122, 193, 154, 0.5);
            transition: all 0.3s;
            border: 3px solid #ffffff;
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 25px rgba(122, 193, 154, 0.7);
        }

        .slider::-webkit-slider-thumb:active {
            transform: scale(1.3);
            box-shadow: 0 8px 30px rgba(122, 193, 154, 0.8);
        }

        .slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            cursor: pointer;
            border: 3px solid #ffffff;
            box-shadow: 0 4px 15px rgba(122, 193, 154, 0.5);
            transition: all 0.3s;
        }

        .slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 25px rgba(122, 193, 154, 0.7);
        }

        .slider::-moz-range-thumb:active {
            transform: scale(1.3);
            box-shadow: 0 8px 30px rgba(122, 193, 154, 0.8);
        }

        .slider-scale {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding: 0 5px;
        }

        .slider-scale-item {
            font-size: 11px;
            color: #9fcccc;
            font-weight: 600;
        }

        @media (max-width: 480px) {
            .value-item {
                padding: 15px;
                margin-bottom: 20px;
            }

            .value-label {
                font-size: 14px;
            }

            .value-number {
                font-size: 20px;
            }

            .slider {
                height: 8px;
            }

            .slider::-webkit-slider-thumb {
                width: 24px;
                height: 24px;
            }

            .slider::-moz-range-thumb {
                width: 24px;
                height: 24px;
            }
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #e2ede6;
            border-top: 4px solid #7ac19a;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .success-message.show {
            display: block;
        }

        .success-icon {
            font-size: 60px;
            color: #7ac19a;
            margin-bottom: 20px;
        }

        .radio-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        @media (min-width: 768px) {
            .radio-group {
                gap: 15px;
            }
        }

        .radio-option {
            flex: 1;
        }

        .radio-option input[type="radio"] {
            display: none;
        }

        .radio-label {
            display: block;
            padding: 14px 16px;
            border: 3px solid transparent;
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            color: #5f846f;
            font-weight: 700;
            background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.3px;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }

        @media (min-width: 768px) {
            .radio-label {
                padding: 16px 20px;
            }
        }

        .radio-label::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(122, 193, 154, 0.15), transparent);
            transition: left 0.6s;
        }

        .radio-label:hover::before {
            left: 100%;
        }

        .radio-label:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 25px rgba(122, 193, 154, 0.2);
            border-color: #7ac19a;
        }

        .radio-label span {
            position: relative;
            z-index: 1;
            display: inline-block;
            transition: transform 0.3s;
        }

        .radio-label:hover span {
            transform: scale(1.1);
        }

        .radio-option input[type="radio"]:checked + .radio-label {
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            color: #ffffff;
            border-color: #7ac19a;
            box-shadow: 0 10px 30px rgba(122, 193, 154, 0.4),
                        0 0 0 4px rgba(122, 193, 154, 0.2);
            transform: scale(1.05);
        }

        .radio-option input[type="radio"]:checked + .radio-label::before {
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        }

        .radio-option input[type="radio"]:checked + .radio-label::after {
            content: '‚úì';
            position: absolute;
            top: 8px;
            right: 12px;
            font-size: 16px;
            animation: checkPop 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        @keyframes checkPop {
            0% { transform: scale(0) rotate(-45deg); opacity: 0; }
            50% { transform: scale(1.3) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .email-suggestion-item {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s;
            color: #5f846f;
            font-size: 14px;
            border-bottom: 1px solid #e2ede6;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
            background: #ffffff;
        }

        @media (min-width: 768px) {
            .email-suggestion-item {
                font-size: 15px;
            }
        }

        .email-suggestion-item:last-child {
            border-bottom: none;
        }

        .email-suggestion-item:hover {
            background: linear-gradient(135deg, #e2ede6 0%, #daedec 100%);
            padding-left: 20px;
        }

        .email-suggestion-item strong {
            color: #7ac19a;
            font-weight: 700;
        }

        #emailSuggestions {
            max-height: 250px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: #7ac19a #e2ede6;
        }

        #emailSuggestions::-webkit-scrollbar {
            width: 8px;
        }

        #emailSuggestions::-webkit-scrollbar-track {
            background: #e2ede6;
            border-radius: 0 0 8px 0;
        }

        #emailSuggestions::-webkit-scrollbar-thumb {
            background: #7ac19a;
            border-radius: 4px;
        }

        #emailSuggestions::-webkit-scrollbar-thumb:hover {
            background: #5f846f;
        }

        .talent-chart-container {
            background: #ffffff;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @media (min-width: 768px) {
            .talent-chart-container {
                padding: 30px;
            }
        }

        #talentChart {
            max-width: 100%;
            height: auto !important;
            max-height: 350px;
            display: block;
            margin: 0 auto;
        }

        @media (max-width: 480px) {
            #talentChart {
                max-height: 280px;
            }
        }

        .talent-chart-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .talent-chart-title {
            font-size: 24px;
            font-weight: bold;
            color: #5f846f;
            margin-bottom: 8px;
        }

        .talent-chart-subtitle {
            font-size: 13px;
            color: #808080;
            letter-spacing: 0.5px;
        }

        .talent-score-bars {
            margin-top: 30px;
        }

        .talent-score-item {
            margin-bottom: 20px;
        }

        .talent-score-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .talent-label {
            font-size: 15px;
            color: #5f846f;
            font-weight: 700;
        }

        .talent-value {
            font-size: 18px;
            font-weight: 800;
            color: #7ac19a;
        }

        .talent-bar {
            height: 32px;
            background: linear-gradient(135deg, #f8fcfa 0%, #e8f5f4 100%);
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .talent-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #7ac19a 0%, #9fcccc 100%);
            border-radius: 16px;
            transition: width 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            box-shadow: 0 2px 8px rgba(122, 193, 154, 0.4);
            position: relative;
            overflow: hidden;
        }

        .talent-bar-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .talent-score {
            color: #ffffff;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }

        .talent-description {
            font-size: 12px;
            color: #808080;
            margin-top: 5px;
            font-style: italic;
        }

        .recommendation-box {
            background: linear-gradient(135deg, #faece8 0%, #fff5f2 100%);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid #f2ac98;
            box-shadow: 0 4px 20px rgba(242, 172, 152, 0.15);
        }

        .recommendation-title {
            color: #c67566;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .recommendation-content {
            color: #5f846f;
            font-size: 15px;
            line-height: 1.8;
        }

        .score-interpretation {
            background: linear-gradient(135deg, #fcf4e3 0%, #fffbf0 100%);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #ffe08b;
        }

        .score-interpretation-title {
            color: #ba9e60;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .score-interpretation-list {
            color: #66888e;
            font-size: 14px;
            line-height: 1.8;
        }

        .score-badge {
            display: inline-block;
            background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%);
            color: #ffffff;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
        }

        textarea.form-input {
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèãÔ∏è Ë°°ÈªûÊáâËÅòÂ±•Ê≠∑Ë°®</h1>
            <p>Ê≠°ËøéÂä†ÂÖ•ÊàëÂÄëÁöÑÂúòÈöä</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-steps">
                <div class="progress-step" id="step1"></div>
                <div class="progress-step" id="step2"></div>
                <div class="progress-step" id="step3"></div>
                <div class="progress-step" id="step4"></div>
                <div class="progress-step" id="step5"></div>
                <div class="progress-step" id="step6"></div>
            </div>
        </div>

        <!-- Section 1: ÊáâÂæµËÅ∑‰Ωç -->
        <div class="section active" id="section1">
            <div style="text-align: center; margin-bottom: 25px;">
                <div style="display: inline-block; background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%); padding: 12px 30px; border-radius: 25px; margin-bottom: 15px;">
                    <h2 style="color: #ffffff; font-size: 20px; font-weight: bold; margin: 0;">üíº ÊáâÂæµËÅ∑‰Ωç</h2>
                </div>
                <p style="color: #808080; font-size: 14px; line-height: 1.8;">
                    Ë´ãÈÅ∏ÊìáÊÇ®ÊÉ≥ÊáâÂæµÁöÑËÅ∑‰ΩçËàáÂ∞àÈï∑È†òÂüü
                </p>
            </div>

            <div class="form-group">
    <label class="form-label required">ÊáâÂæµÈÉ®ÈñÄ</label>
    <div class="radio-group" style="flex-direction: column; gap: 10px;">
        <div class="radio-option">
            <input type="radio" id="dept_course" name="department" value="Ë™≤Á®ãÊúçÂãôÈÉ®" onchange="toggleDepartment('course')">
            <label class="radio-label" for="dept_course"><span>üìö Ë™≤Á®ãÊúçÂãôÈÉ®</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="dept_education" name="department" value="ÊïôÂãôÈÉ®" onchange="toggleDepartment('education')">
            <label class="radio-label" for="dept_education"><span>üéì ÊïôÂãôÈÉ®</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="dept_admin" name="department" value="Ë°åÊîøÈÉ®" onchange="toggleDepartment('admin')">
            <label class="radio-label" for="dept_admin"><span>üè¢ Ë°åÊîøÈÉ®</span></label>
        </div>
    </div>
</div>

<!-- Ë™≤Á®ãÊúçÂãôÈÉ®ËÅ∑‰Ωç -->
<div class="form-group" id="course_positions" style="display: none;">
    <label class="form-label required">ÊÇ®ÊÉ≥ÊáâÂæµÁöÑËÅ∑‰Ωç</label>
    <div class="radio-group" style="flex-direction: column; gap: 10px;">
        <div class="radio-option">
            <input type="radio" id="position_trainer" name="position" value="ÈáçË®ìÊïôÁ∑¥" onchange="togglePositionDetails('trainer')">
            <label class="radio-label" for="position_trainer"><span>üí™ ÈáçË®ìÊïôÁ∑¥</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_pilates" name="position" value="Âô®Ê¢∞ÁöÆÊãâÊèêÊñØÊïôÁ∑¥" onchange="togglePositionDetails('pilates')">
            <label class="radio-label" for="position_pilates"><span>üßò Âô®Ê¢∞ÁöÆÊãâÊèêÊñØÊïôÁ∑¥</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_stretch" name="position" value="‰º∏Â±ïÂ∏´" onchange="togglePositionDetails('stretch')">
            <label class="radio-label" for="position_stretch"><span>ü§∏ ‰º∏Â±ïÂ∏´</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_ai" name="position" value="AIÂàÜÊûêÂ∏´" onchange="togglePositionDetails('ai')">
            <label class="radio-label" for="position_ai"><span>üî¨ AIÂàÜÊûêÂ∏´</span></label>
        </div>
    </div>
</div>

<!-- ÊïôÂãôÈÉ®ËÅ∑‰Ωç -->
<div class="form-group" id="education_positions" style="display: none;">
    <label class="form-label required">ÊÇ®ÊÉ≥ÊáâÂæµÁöÑËÅ∑‰Ωç</label>
    <div class="radio-group" style="flex-direction: column; gap: 10px;">
        <div class="radio-option">
            <input type="radio" id="position_ops_manager" name="position" value="ÁáüÈÅãÁ∂ìÁêÜ" onchange="togglePositionDetails('manager')">
            <label class="radio-label" for="position_ops_manager"><span>üìä ÁáüÈÅãÁ∂ìÁêÜ</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_pilates_manager" name="position" value="ÁöÆÊãâÊèêÊñØÊïôÁ∑¥Á∂ìÁêÜ" onchange="togglePositionDetails('manager')">
            <label class="radio-label" for="position_pilates_manager"><span>üßò ÁöÆÊãâÊèêÊñØÊïôÁ∑¥Á∂ìÁêÜ</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_fitness_manager" name="position" value="ÈáçË®ìÂÅ•Ë∫´ÊïôÁ∑¥Á∂ìÁêÜ" onchange="togglePositionDetails('manager')">
            <label class="radio-label" for="position_fitness_manager"><span>üí™ ÈáçË®ìÂÅ•Ë∫´ÊïôÁ∑¥Á∂ìÁêÜ</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_stretch_manager" name="position" value="ËÇåËÇâË≥¶ËÉΩ‰º∏Â±ïÊïôÁ∑¥Á∂ìÁêÜ" onchange="togglePositionDetails('manager')">
            <label class="radio-label" for="position_stretch_manager"><span>ü§∏ ËÇåËÇâË≥¶ËÉΩ‰º∏Â±ïÊïôÁ∑¥Á∂ìÁêÜ</span></label>
        </div>
    </div>
</div>

<!-- Ë°åÊîøÈÉ®ËÅ∑‰Ωç -->
<div class="form-group" id="admin_positions" style="display: none;">
    <label class="form-label required">ÊÇ®ÊÉ≥ÊáâÂæµÁöÑËÅ∑‰Ωç</label>
    <div class="radio-group" style="flex-direction: column; gap: 10px;">
        <div class="radio-option">
            <input type="radio" id="position_customer_service" name="position" value="ÂÆ¢ÊúçË°åÊîøÂ∞àÂì°" onchange="togglePositionDetails('admin')">
            <label class="radio-label" for="position_customer_service"><span>üìû ÂÆ¢ÊúçË°åÊîøÂ∞àÂì°</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_sales" name="position" value="Ê•≠Âãô‰∫∫Âì°" onchange="togglePositionDetails('admin')">
            <label class="radio-label" for="position_sales"><span>üíº Ê•≠Âãô‰∫∫Âì°</span></label>
        </div>
        <div class="radio-option">
            <input type="radio" id="position_marketing" name="position" value="Ë°åÈä∑‰∫∫Âì°" onchange="togglePositionDetails('admin')">
            <label class="radio-label" for="position_marketing"><span>üì£ Ë°åÈä∑‰∫∫Âì°</span></label>
        </div>
    </div>
</div>

            <div class="form-group" id="trainer_specialties" style="display: none;">
                <label class="form-label required">ÊÇ®ÁöÑËààË∂£ËàáÂ∞àÈï∑(ÂèØË§áÈÅ∏,ÊúÄÂ§öÂÖ©È†Ö)</label>
                <p style="color: #808080; font-size: 13px; margin-bottom: 12px;">Ë´ãÈÅ∏ÊìáÊÇ®ÊúÄÂ∞àÊ•≠ÁöÑÈ†òÂüü</p>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <label style="display: flex; align-items: center; padding: 12px 16px; background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%); border: 2px solid #e2ede6; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <input type="checkbox" name="specialty" value="ÁüØÊ≠£ÊÄßË®ìÁ∑¥ÊïôÂ≠∏" onchange="limitSpecialtySelection(this)" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span style="color: #5f846f; font-weight: 600;">ÁüØÊ≠£ÊÄßË®ìÁ∑¥ÊïôÂ≠∏</span>
                    </label>
                    <label style="display: flex; align-items: center; padding: 12px 16px; background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%); border: 2px solid #e2ede6; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <input type="checkbox" name="specialty" value="ÂäüËÉΩÊÄßË®ìÁ∑¥ÊïôÂ≠∏" onchange="limitSpecialtySelection(this)" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span style="color: #5f846f; font-weight: 600;">ÂäüËÉΩÊÄßË®ìÁ∑¥ÊïôÂ≠∏</span>
                    </label>
                    <label style="display: flex; align-items: center; padding: 12px 16px; background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%); border: 2px solid #e2ede6; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <input type="checkbox" name="specialty" value="Â¢ûËÇåË®ìÁ∑¥ÊïôÂ≠∏" onchange="limitSpecialtySelection(this)" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span style="color: #5f846f; font-weight: 600;">Â¢ûËÇåË®ìÁ∑¥ÊïôÂ≠∏</span>
                    </label>
                    <label style="display: flex; align-items: center; padding: 12px 16px; background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%); border: 2px solid #e2ede6; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <input type="checkbox" name="specialty" value="ÂäõÈáèË®ìÁ∑¥ÊïôÂ≠∏" onchange="limitSpecialtySelection(this)" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span style="color: #5f846f; font-weight: 600;">ÂäõÈáèË®ìÁ∑¥ÊïôÂ≠∏</span>
                    </label>
                    <label style="display: flex; align-items: center; padding: 12px 16px; background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%); border: 2px solid #e2ede6; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <input type="checkbox" name="specialty" value="Á≠ãËÜúÊªæÁ≠íÊîæÈ¨ÜÊïôÂ≠∏" onchange="limitSpecialtySelection(this)" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span style="color: #5f846f; font-weight: 600;">Á≠ãËÜúÊªæÁ≠íÊîæÈ¨ÜÊïôÂ≠∏</span>
                    </label>
                    <div>
                        <label style="display: flex; align-items: center; padding: 12px 16px; background: linear-gradient(135deg, #ffffff 0%, #f8fcfa 100%); border: 2px solid #e2ede6; border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                            <input type="checkbox" id="specialty_other_check" name="specialty" value="ÂÖ∂‰ªñ" onchange="limitSpecialtySelection(this); toggleOtherSpecialty()" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                            <span style="color: #5f846f; font-weight: 600;">ÂÖ∂‰ªñ</span>
                        </label>
                        <input type="text" id="specialty_other_text" class="form-input" placeholder="Ë´ãË™™ÊòéÂÖ∂‰ªñÂ∞àÈï∑" style="margin-top: 8px; display: none;">
                    </div>
                </div>
            </div>

            <div class="form-group" id="ai_medical_background" style="display: none;">
                <label class="form-label required">ÊÇ®ÊòØÂê¶ÊúâÈÅãÂãïÈÜ´Â≠∏ÊàñÁâ©ÁêÜÊ≤ªÁôÇÂ∏´Áõ∏ÈóúËÉåÊôØ?</label>
                <div class="radio-group">
                    <div class="radio-option" style="flex: 1;">
                        <input type="radio" id="medical_yes" name="medicalBackground" value="ÊòØ">
                        <label class="radio-label" for="medical_yes"><span>ÊòØ</span></label>
                    </div>
                    <div class="radio-option" style="flex: 1;">
                        <input type="radio" id="medical_no" name="medicalBackground" value="Âê¶">
                        <label class="radio-label" for="medical_no"><span>Âê¶</span></label>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-next" onclick="validatePositionAndNext()"><span>‰∏ã‰∏ÄÊ≠•</span></button>
            </div>
        </div>

        <!-- Section 1b: Â§©Ë≥¶Ê∏¨Ë©ï -->
        <div class="section" id="section1b">
            <div style="text-align: center; margin-bottom: 25px;">
                <div style="display: inline-block; background: linear-gradient(135deg, #7ac19a 0%, #9fcccc 100%); padding: 12px 30px; border-radius: 25px; margin-bottom: 15px;">
                    <h2 style="color: #ffffff; font-size: 20px; font-weight: bold; margin: 0;">‚ú® Êé¢Á¥¢ÊÇ®ÁöÑÂ§©Ë≥¶ÁâπË≥™</h2>
                </div>
                <p style="color: #808080; font-size: 14px; line-height: 1.8;">
                    Ë´ãÊ†πÊìöÊÇ®ÁöÑÁúüÂØ¶ÊÉ≥Ê≥ïÈÅ∏Êìá„ÄåÊòØ„ÄçÊàñ„ÄåÂê¶„Äç<br>
                    ÊØèÂÄã‰∫∫ÈÉΩÊúâÁç®ÁâπÂ§©Ë≥¶,ÈÄô‰ªΩÊ∏¨Ë©ïËÉΩÂá∏È°ØÂÑ™Âã¢,ËÆì‰Ω†ÈñãÂøÉÂÅö‰∫ã„ÄÅËá™Âú®Â±ïÁèæÂØ¶Âäõ
                </p>
            </div>
            
            <div id="personalityQuestions"></div>

            <div class="nav-buttons">
                <button class="btn btn-prev" onclick="prevSection('1b')"><span>‰∏ä‰∏ÄÊ≠•</span></button>
                <button class="btn btn-next" onclick="analyzePersonality()"><span>ÂÆåÊàêÂàÜÊûê</span></button>
            </div>
        </div>

        <!-- ÂàÜÊûê‰∏≠ -->
        <div class="section" id="sectionAnalyzing">
            <div style="text-align: center; padding: 40px 20px;">
                <div class="spinner"></div>
                <h2 style="color: #5f846f; font-size: 20px; margin-bottom: 15px; font-weight: bold;">Ê≠£Âú®ÂàÜÊûêÊÇ®ÁöÑ‰∫∫Ê†ºÁâπË≥™...</h2>
                <p style="color: #808080; font-size: 15px; line-height: 1.8;">
                    Á≥ªÁµ±Ê≠£Âú®Ê†πÊìöÊÇ®ÁöÑÂõûÁ≠î<br>
                    Ë®àÁÆóÂ∞àÂ±¨ÊñºÊÇ®ÁöÑÂ§©Ë≥¶ÂúñË≠ú
                </p>
            </div>
        </div>

        <!-- Â§©Ë≥¶ÂúñÂàÜÊûêÁµêÊûú -->
        <div class="section" id="sectionResult">
            <div class="section-title">üéØ ÊÇ®ÁöÑÂ§©Ë≥¶ÂúñË≠ú</div>
            
            <div class="talent-chart-container">
                <div class="talent-chart-header">
                    <div class="talent-chart-title">Â§©Ë≥¶ÂàÜÊûêÁµêÊûú</div>
                    <div class="talent-chart-subtitle">BASED ON KOLBE A‚Ñ¢ INDEX</div>
                </div>
                <div style="position: relative; width: 100%; max-width: 400px; margin: 0 auto;">
                    <canvas id="talentChart" width="400" height="400" style="max-width: 100%; height: auto;"></canvas>
                </div>
            </div>

            <div class="talent-score-bars">
                <div id="talentScores"></div>
            </div>

            <div class="recommendation-box">
                <div class="recommendation-title">üí´ ÊàêÂäüÊ°à‰æãÂèÉËÄÉ</div>
                <div class="recommendation-content" id="recommendedPosition"></div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-next" onclick="nextSection(1)"><span>ÁπºÁ∫åÂ°´ÂØ´</span></button>
            </div>
        </div>

        <!-- Section 2: ÂÄã‰∫∫Ë≥áÊñô -->
        <div class="section" id="section2">
            <div class="section-title">üë§ ÂÄã‰∫∫Ë≥áÊñô</div>
            
            <div class="form-group">
                <label class="form-label required">ÂßìÂêç</label>
                <input type="text" class="form-input" id="name" placeholder="Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑÂßìÂêç" required>
            </div>

            <div class="form-group">
                <label class="form-label required">ÈõªË©±</label>
                <input type="tel" class="form-input" id="phone" placeholder="09XXXXXXXX" maxlength="10" pattern="09[0-9]{8}" required>
                <span style="font-size: 12px; color: #808080; margin-top: 5px; display: block;">Ê†ºÂºè:09 ÈñãÈ†≠ÂÖ± 10 Á¢º</span>
            </div>

            <div class="form-group">
                <label class="form-label required">ÊÄßÂà•</label>
                <div class="radio-group">
                    <div class="radio-option" style="flex: 1;">
                        <input type="radio" id="male" name="gender" value="Áî∑ÊÄß">
                        <label class="radio-label" for="male"><span>Áî∑ÊÄß</span></label>
                    </div>
                    <div class="radio-option" style="flex: 1;">
                        <input type="radio" id="female" name="gender" value="Â•≥ÊÄß">
                        <label class="radio-label" for="female"><span>Â•≥ÊÄß</span></label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label required">ÁîüÊó•</label>
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 8px;">
                    <select class="form-input" id="birthYear" required>
                        <option value="">ÈÅ∏ÊìáÂπ¥‰ªΩ</option>
                    </select>
                    <select class="form-input" id="birthMonth" required onchange="updateBirthDays()">
                        <option value="">Êúà</option>
                        <option value="01">1Êúà</option>
                        <option value="02">2Êúà</option>
                        <option value="03">3Êúà</option>
                        <option value="04">4Êúà</option>
                        <option value="05">5Êúà</option>
                        <option value="06">6Êúà</option>
                        <option value="07">7Êúà</option>
                        <option value="08">8Êúà</option>
                        <option value="09">9Êúà</option>
                        <option value="10">10Êúà</option>
                        <option value="11">11Êúà</option>
                        <option value="12">12Êúà</option>
                    </select>
                    <select class="form-input" id="birthDay" required>
                        <option value="">Êó•</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label required">ÈõªÂ≠ê‰ø°ÁÆ±</label>
                <div style="position: relative;">
                    <input type="email" class="form-input" id="email" placeholder="example@gmail.com" required autocomplete="off">
                    <div id="emailSuggestions" style="display: none; position: absolute; top: 100%; left: 0; right: 0; background: white; border: 2px solid #7ac19a; border-top: none; border-radius: 0 0 10px 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); z-index: 1000; max-height: 200px; overflow-y: auto;">
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-prev" onclick="prevSection(2)"><span>‰∏ä‰∏ÄÊ≠•</span></button>
                <button class="btn btn-next" onclick="nextSection(2)"><span>‰∏ã‰∏ÄÊ≠•</span></button>
            </div>
        </div>
<!-- Section 3: Ê∑±Â∫¶ÂïèÁ≠î -->
        <div class="section" id="section3">
            <div class="section-title">üí≠ Ê∑±Â∫¶‰∫ÜËß£</div>
            <p style="color: #808080; margin-bottom: 20px; font-size: 14px;">Ë´ãÊ†πÊìöÊÇ®ÁöÑÁúüÂØ¶Á∂ìÈ©óÂõûÁ≠î‰ª•‰∏ãÂïèÈ°å</p>

            <div class="form-group">
                <label class="form-label required">1. ÊõæÁ∂ìÊúâË∂ÖÈÅé‰∏âÂπ¥‰ª•‰∏äÁöÑÂ∑•‰ΩúÂóé?</label>
                <div class="radio-group">
                    <div class="radio-option" style="flex: 1;">
                        <input type="radio" id="work3years_yes" name="work3years" value="Êúâ" onchange="toggleWork3YearsQuestion(true)">
                        <label class="radio-label" for="work3years_yes"><span>Êúâ</span></label>
                    </div>
                    <div class="radio-option" style="flex: 1;">
                        <input type="radio" id="work3years_no" name="work3years" value="ÁÑ°" onchange="toggleWork3YearsQuestion(false)">
                        <label class="radio-label" for="work3years_no"><span>ÁÑ°</span></label>
                    </div>
                </div>
            </div>

            <div class="form-group" id="work3years_yes_question" style="display: none;">
                <label class="form-label">‰ªÄÈ∫ºÂéüÂõ†Èõ¢ÈñãÈÇ£‰ªΩÂ∑•‰Ωú?</label>
                <textarea class="form-input" id="leaveReason3Years" rows="3" placeholder="Ë´ãÁ∞°Ëø∞ÂéüÂõ†"></textarea>
            </div>

            <div class="form-group" id="work3years_no_question" style="display: none;">
                <label class="form-label">ÊúÄ‰πÖÁöÑÂ∑•‰ΩúÊòØÂ§ö‰πÖÂë¢?</label>
                <input type="text" class="form-input" id="longestWorkDuration" placeholder="‰æãÂ¶Ç:1Âπ¥6ÂÄãÊúà">
            </div>

            <div class="form-group">
                <label class="form-label required">2. ‰ªÄÈ∫ºÂéüÂõ†Èõ¢Èñã‰∫Ü‰∏ä‰∏Ä‰ªΩÂ∑•‰Ωú?</label>
                <textarea class="form-input" id="lastJobLeaveReason" rows="3" placeholder="Ë´ãÁ∞°Ëø∞ÂéüÂõ†" required></textarea>
            </div>

            <div class="form-group">
                <label class="form-label required">3. ÈÅáÂà∞ÈáçË¶ÅÁöÑÊ±∫ÂÆöÊàñÊÉÖÁ∑í‰∏äÁöÑÂõ∞ÊìæÊôÇ,‰Ω†ÊúÄÂ∏∏ËàáË™∞ÂàÜ‰∫´ÊÉ≥Ê≥ï„ÄÅË®éË´ñÂøÉ‰∫ãÊàñ‰∫§ÊµÅÊÑüÂèó?</label>
                <div class="radio-group" style="flex-direction: column; gap: 10px;">
                    <div class="radio-option">
                        <input type="radio" id="family_dad" name="familyInteraction" value="‰∏ªË¶ÅË∑üÁà∏Áà∏ÂàÜ‰∫´„ÄÅ‰∫íÂãïÂæàÂ•Ω">
                        <label class="radio-label" for="family_dad"><span>‰∏ªË¶ÅË∑üÁà∏Áà∏ÂàÜ‰∫´„ÄÅ‰∫íÂãïÂæàÂ•Ω</span></label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="family_mom" name="familyInteraction" value="‰∏ªË¶ÅË∑üÂ™ΩÂ™ΩÂàÜ‰∫´„ÄÅ‰∫íÂãïÂæàÂ•Ω">
                        <label class="radio-label" for="family_mom"><span>‰∏ªË¶ÅË∑üÂ™ΩÂ™ΩÂàÜ‰∫´„ÄÅ‰∫íÂãïÂæàÂ•Ω</span></label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="family_sometimes" name="familyInteraction" value="ÂÅ∂ÁàæÊúÉË∑üÂÆ∂‰∫∫ËÅä,‰ΩÜÂ§ßÂ§öËá™Â∑±ÊÉ≥‰∏ÄÊÉ≥">
                        <label class="radio-label" for="family_sometimes"><span>ÂÅ∂ÁàæÊúÉË∑üÂÆ∂‰∫∫ËÅä,‰ΩÜÂ§ßÂ§öËá™Â∑±ÊÉ≥‰∏ÄÊÉ≥</span></label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="family_rarely" name="familyInteraction" value="Âπ≥Â∏∏ÂæàÂ∞ëË∑üÂÆ∂‰∫∫ÂàÜ‰∫´ÂøÉ‰∫ã,ÁøíÊÖ£Ëá™Â∑±ËôïÁêÜ">
                        <label class="radio-label" for="family_rarely"><span>Âπ≥Â∏∏ÂæàÂ∞ëË∑üÂÆ∂‰∫∫ÂàÜ‰∫´ÂøÉ‰∫ã,ÁøíÊÖ£Ëá™Â∑±ËôïÁêÜ</span></label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label required">4. ÊàêÈï∑ÈÅéÁ®ã‰∏≠,Áà∂ÊØçÂì™‰∏ÄÂè•Ë©±ËÆì‰Ω†Âç∞Ë±°ÊúÄÊ∑±Âàª?ÁÇ∫‰ªÄÈ∫º?</label>
                <p style="color: #808080; font-size: 13px; margin-bottom: 12px;">(Ë´ãÂàÜ‰∫´‰∏ÄÂè•‰Ω†Ëá≥‰ªä‰ªçÊúÉË®òÂæóÁöÑË©±,‰∏¶Ë™™ÊòéÂÆÉÂ∏∂Áµ¶‰Ω†ÁöÑÂΩ±Èüø„ÄÇ)</p>
                <textarea class="form-input" id="parentQuote" rows="3" placeholder="‰æãÂ¶Ç:„ÄåÂ§±ÊïóÊ≤í‰ªÄÈ∫º,Âè™ÊòØÈÅéÁ®ãÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ„ÄçËÆìÊàë‰∏çÊÄïÊåëÊà∞„ÄÇ" required></textarea>
            </div>

            <div class="form-group">
                <label class="form-label required">5. Ë´ãÁµ¶Ëá™Â∑±Â∞çÊñºÈÄô‰ª∂‰∫ãÊÉÖÁöÑÈáçË¶ñÁ®ãÂ∫¶Êâì‰∏ÄÂÄãÂàÜÊï∏(0-10ÂàÜ)</label>
                <div class="value-slider-container">
                    
                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">‰∫ãÊ•≠</label>
                            <div class="value-display">
                                <span id="careerValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="career" min="0" max="10" value="0" oninput="updateValue('career', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>

                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">ÈáëÈå¢</label>
                            <div class="value-display">
                                <span id="moneyValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="money" min="0" max="10" value="0" oninput="updateValue('money', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>

                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">ÂÆ∂Â∫≠</label>
                            <div class="value-display">
                                <span id="familyValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="family" min="0" max="10" value="0" oninput="updateValue('family', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>

                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">ÊÑüÊÉÖ</label>
                            <div class="value-display">
                                <span id="relationshipValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="relationship" min="0" max="10" value="0" oninput="updateValue('relationship', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>

                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">ÂÅ•Â∫∑</label>
                            <div class="value-display">
                                <span id="healthValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="health" min="0" max="10" value="0" oninput="updateValue('health', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>

                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">Áç®Ëôï</label>
                            <div class="value-display">
                                <span id="aloneValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="alone" min="0" max="10" value="0" oninput="updateValue('alone', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>

                    <div class="value-item">
                        <div class="value-header">
                            <label class="value-label">ÊúãÂèã</label>
                            <div class="value-display">
                                <span id="friendsValue" class="value-number">0</span>
                                <span class="value-max">/10</span>
                            </div>
                        </div>
                        <input type="range" class="slider" id="friends" min="0" max="10" value="0" oninput="updateValue('friends', this.value)">
                        <div class="slider-scale">
                            <span class="slider-scale-item">0</span>
                            <span class="slider-scale-item">5</span>
                            <span class="slider-scale-item">10</span>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <strong style="color: #5f846f; font-size: 16px;">‰∫∫ÁîüÂÉπÂÄºËßÄÂúñË°®</strong>
                    </div>
                    <div style="position: relative; width: 100%; max-width: 400px; margin: 0 auto;">
                        <canvas id="lifeValueChart" width="400" height="400" style="max-width: 100%; height: auto;"></canvas>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label required">6. ‰∫∫Áîü‰∏≠ÊúÄÊå´ÊïóÁöÑ‰∏ÄÊ¨°Á∂ìÈ©óÊòØ‰ªÄÈ∫º?ÊúÄÂæå‰Ω†ÊòØÂ¶Ç‰ΩïÊ∏°ÈÅéÈõ£Èóú?‚ÄªÁ≤æÁ∞°ÂõûÁ≠îÂç≥ÂèØ</label>
                <textarea class="form-input" id="failureExperience" rows="4" placeholder="‰æãÂ¶Ç:Âú®ÊüêÊ¨°Â∑•‰ΩúÊôÇË¢´ËÄÅÈóÜËàá‰∏ªÁÆ°Â´åÂæó‰∏ÄÊñá‰∏çÂÄº,‰ΩÜÊàëÊúÄÂæåÂÅö‰∫ÜÂØ¶ÈöõË°åÂãïÂéªÂ≠∏Áøí‰ªòÂá∫,Âú®ÂçäÂπ¥ÂÖßËÆìÂ•πÂÄëÂàÆÁõÆÁõ∏Áúã" required></textarea>
            </div>

            <div class="form-group">
                <label class="form-label required">7. ÈÅéÂéª‰∏ÄÂπ¥,‰Ω†‰∏ªÂãïÂÅöÈÅéÂì™‰∫õÂ≠∏ÁøíÊàñÊèêÂçá?‰Ω†ÊòØÊÄéÈ∫ºÂÆâÊéíÊôÇÈñìÁöÑ?</label>
                <textarea class="form-input" id="learningInitiative" rows="4" placeholder="‰æãÂ¶Ç:Âõ†ÁÇ∫ÊÉ≥ÂçáËÅ∑,Â†±Âêç‰∏ÄÂÄãËºÉËâ±Èõ£ÁöÑË™≤Á®ã(Ë™ûË®Ä„ÄÅË≠âÁÖß„ÄÅÁÆ°ÁêÜ),ÈÄ±Êú´‰∏äË™≤ÊåÅÁ∫å‰∏âÂÄãÊúà" required></textarea>
            </div>

            <div class="form-group">
                <label class="form-label required">8. Â¶ÇÊûúÂÖ¨Âè∏Â∏åÊúõ‰Ω†Â≠∏Êñ∞ÁöÑÊäÄËÉΩ,‰Ω†ÊúÉÊÄéÈ∫ºÂÆâÊéíÊôÇÈñìÊàñË≥áÊ∫ê?</label>
                <textarea class="form-input" id="newSkillArrangement" rows="4" placeholder="‰æãÂ¶Ç:È°òÊÑèÊåëÊà∞‰∏çÁÜüÊÇâÁöÑÈ†òÂüü,Âõ†ÁÇ∫Ë∑®ÊäÄËÉΩËÉΩËÆìÊàëÊõ¥ÊúâÂÉπÂÄº" required></textarea>
            </div>

            <div class="form-group">
                <label class="form-label required">9. ‰Ω†Â∏åÊúõËá™Â∑±Êú™‰æÜÊàêÁÇ∫‰ªÄÈ∫ºÊ®£ÁöÑ‰∫∫?</label>
                <textarea class="form-input" id="futureGoal" rows="3" placeholder="Ë´ãÊèèËø∞ÊÇ®ÁöÑÁêÜÊÉ≥ÁõÆÊ®ô" required></textarea>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-prev" onclick="prevSection(3)"><span>‰∏ä‰∏ÄÊ≠•</span></button>
                <button class="btn btn-next" onclick="nextSection(3)"><span>‰∏ã‰∏ÄÊ≠•</span></button>
            </div>
        </div>

        <!-- Section 4: Êñá‰ª∂‰∏äÂÇ≥ -->
        <div class="section" id="section4">
            <div class="section-title">üìÑ Êñá‰ª∂‰∏äÂÇ≥</div>
            <p style="color: #808080; margin-bottom: 20px; font-size: 14px;">Ë´ãÂàÜÂà•‰∏äÂÇ≥ÊÇ®ÁöÑÁÖßÁâáËàáÁõ∏ÈóúÊñá‰ª∂</p>

            <div class="form-group">
                <label class="form-label">üì∏ ÁÖßÁâá‰∏äÂÇ≥ (ÂÄã‰∫∫ÁÖß„ÄÅË≠â‰ª∂ÁÖßÁ≠â)</label>
                <p style="color: #808080; font-size: 13px; margin-bottom: 12px;">Ë´ã‰∏äÂÇ≥ÂÄã‰∫∫ÁÖßÁâá„ÄÅË≠â‰ª∂ÁÖßÊàñÁõ∏ÈóúÂúñÁâá</p>
                <div class="file-upload" onclick="document.getElementById('imageFiles').click()">
                    <div class="file-upload-icon">üñºÔ∏è</div>
                    <div class="file-upload-text">ÈªûÊìä‰∏äÂÇ≥ÁÖßÁâá (ÂÉÖÊîØÊè¥ÂúñÁâáÊ†ºÂºè)</div>
                    <div class="file-size-warning">‚ö†Ô∏è ÈôêÂà∂:ÂÉÖÊé•ÂèóÂúñÁâá (JPG/PNG) | ÂñÆÊ™îÂ∞èÊñº 3MB</div>
                    <input type="file" id="imageFiles" accept=".jpg,.jpeg,.png,image/jpeg,image/png" multiple onchange="handleFileSelect(this, 'imageFilesPreview')">
                </div>
                <div class="file-preview-container" id="imageFilesPreview"></div>
            </div>

            <div class="form-group">
                <label class="form-label">üìÑ Êñá‰ª∂‰∏äÂÇ≥ (Â±•Ê≠∑„ÄÅË≠âÁÖßÁ≠â)</label>
                <p style="color: #808080; font-size: 13px; margin-bottom: 12px;">Ë´ã‰∏äÂÇ≥Â±•Ê≠∑Ë°®„ÄÅË≠âÁÖßÊàñÂÖ∂‰ªñÁõ∏Èóú PDF Êñá‰ª∂</p>
                <div class="file-upload" onclick="document.getElementById('pdfFiles').click()">
                    <div class="file-upload-icon">üìã</div>
                    <div class="file-upload-text">ÈªûÊìä‰∏äÂÇ≥Êñá‰ª∂ (ÂÉÖÊîØÊè¥ PDF Ê†ºÂºè)</div>
                    <div class="file-size-warning">‚ö†Ô∏è ÈôêÂà∂:ÂÉÖÊé•Âèó PDF | ÂñÆÊ™îÂ∞èÊñº 3MB</div>
                    <input type="file" id="pdfFiles" accept=".pdf,application/pdf" multiple onchange="handleFileSelect(this, 'pdfFilesPreview')">
                </div>
                <div class="file-preview-container" id="pdfFilesPreview"></div>
            </div>

            <div id="totalSizeDisplay" class="total-size-display" style="display: none;">
                Á∏ΩÊ™îÊ°àÂ§ßÂ∞è: <span id="totalSizeValue">0 MB</span> / 5 MB
            </div>

            <div class="nav-buttons">
                <button class="btn btn-prev" onclick="prevSection(4)"><span>‰∏ä‰∏ÄÊ≠•</span></button>
                <button class="btn btn-submit" onclick="submitForm()"><span>Êèê‰∫§ÊáâËÅòË≥áÊñô</span></button>
            </div>
        </div>

        <!-- ËºâÂÖ•‰∏≠ -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="color: #5f846f; font-size: 16px;">Ê≠£Âú®Êèê‰∫§ÊÇ®ÁöÑË≥áÊñô...</p>
        </div>

        <!-- ÊàêÂäüË®äÊÅØ -->
        <div class="success-message" id="successMessage">
            <div class="success-icon">‚úì</div>
            <h2 style="color: #7ac19a; margin-bottom: 10px;">Êèê‰∫§ÊàêÂäü!</h2>
            <p style="color: #808080;">ÊÑüË¨ùÊÇ®ÁöÑÊáâËÅò,ÊàëÂÄëÊúÉÁõ°Âø´ËàáÊÇ®ËÅØÁπ´„ÄÇ</p>
        </div>
    </div>

    <script>
const questions = [
            "ÊääÂâµÊÑèÊÉ≥Ê≥ïÂåñÁÇ∫ÁèæÂØ¶ÊàëÊúÉÊÑüÂà∞ÊªøË∂≥ËàáÂñúÊÇÖ",
            "‰∏çÂñúÊ≠°ÈáçË§áËß£Èáã‰∫ãÊÉÖÂ•ΩÂπæÊ¨°",
            "ÊÉ≥Âá∫Êñ∞Ë®àÁï´Â∞çÊàëÊòØÁ∞°ÂñÆÂÆπÊòìÁöÑ",
            "‰∏çÊìÖÊñºËÄêÂøÉÁ≠âÂæÖÁ≠îÊ°à",
            "ÊúÄÈÅ©ÂêàÊèèËø∞Ëá™Â∑±ÁöÑË©ûÊòØ„ÄåÊúâÂâµÊÑè„Äç",
            "Ë™çË≠òÁµê‰∫§Êñ∞ÊúãÂèãÊàëÊúÉÊÑüÂà∞ÊªøË∂≥ËàáÂñúÊÇÖ",
            "‰∏çÂñúÊ≠°Á†îÁ©∂Ë©¶ÁÆóË°®Ë£°ÁöÑÁ¥∞ÈÉ®Ë≥áË®ä",
            "Ë∑ü‰∫∫Áõ∏Ëôï‰∫íÂãïÂ∞çÊàëÊòØÁ∞°ÂñÆÂÆπÊòìÁöÑ",
            "‰∏çÊìÖÊñºÈñ±ËÆÄË™™ÊòéÂæàË©≥Áõ°ÁöÑ‰ΩøÁî®ÊâãÂÜä",
            "ÊúÄÈÅ©ÂêàÊèèËø∞Ëá™Â∑±ÁöÑË©ûÊòØ„ÄåÈñãÊúóÂ§ñÂêë„Äç",
            "ÊúçÂãô‰ªñ‰∫∫ÊàëÊúÉÊÑüÂà∞ÊªøË∂≥ËàáÂñúÊÇÖ",
            "‰∏çÂñúÊ≠°Ê∑∑‰∫ÇËàá‰∏çÁ¢∫ÂÆöÊÄß",
            "ÊâæÂà∞ÂàíÁÆóÁöÑ‰∫§ÊòìÂ∞çÊàëÊòØÁ∞°ÂñÆÂÆπÊòìÁöÑ",
            "‰∏çÊìÖÊñºÂø´ÈÄüÊÉ≥Âá∫Â•ΩÈªûÂ≠ê",
            "ÊúÄÈÅ©ÂêàÊèèËø∞Ëá™Â∑±ÁöÑË©ûÊòØ„ÄåÂèØÈù†„Äç",
            "Áï∂ÊàëÊúâÂÆâÈùúÁç®ËôïÁöÑÊôÇÂÖâÊàëÊúÉÊÑüÂà∞ÊªøË∂≥ËàáÂñúÊÇÖ",
            "‰∏çÂñúÊ≠°Âá∫ÂéªË∑ü‰∫∫Á§æ‰∫§",
            "ÊääÊñáÂ≠óÊï¥ÁêÜÂæóÊúâÊ¢ù‰∏çÁ¥äÂ∞çÊàëÊòØÁ∞°ÂñÆÂÆπÊòìÁöÑ",
            "‰∏çÊìÖÊñºËÆìÈôåÁîü‰∫∫Ë¶∫Âæó‰Ω†ÂæàÂ•ΩÁõ∏Ëôï",
            "ÊúÄÈÅ©ÂêàÊèèËø∞Ëá™Â∑±ÁöÑË©ûÊòØ„ÄåÊ≥®ÈáçÁ¥∞ÁØÄ„Äç"
        ];

        const questionTypeMap = {
            1: 'dynamo', 2: 'blaze', 3: 'dynamo', 4: 'dynamo', 5: 'dynamo',
            6: 'blaze', 7: 'blaze', 8: 'blaze', 9: 'blaze', 10: 'blaze',
            11: 'tempo', 12: 'steel', 13: 'tempo', 14: 'steel', 15: 'tempo',
            16: 'steel', 17: 'steel', 18: 'steel', 19: 'steel', 20: 'steel'
        };

        const personalityAnswers = {};
        let currentSection = 1;
        const totalSections = 6;
        let talentScores = {};
        let lifeValueScores = {};
        let learningScores = { learningBehavior: 0, crossSkillInvestment: 0 };
        let positionData = { 
            department: '',
            position: '', 
            specialty_1: '', 
            specialty_2: '', 
            medicalBackground: '' 
        };

        // üî• ‰øÆÊ≠£:Cloudflare Worker URL (Ë´ãÊõøÊèõÁÇ∫ÊÇ®ÁöÑÂØ¶Èöõ URL)
        const API_ENDPOINT = 'https://fitresume.doublemeat33.workers.dev';
        // Â¶ÇÊûúÈÇÑÊ≤íË®≠ÂÆö Worker,Êö´ÊôÇÂèØ‰ª•Áî®ÂéüÂßã Make.com URL:
        // const API_ENDPOINT = 'https://hook.us2.make.com/7o0t3iisa61knf5wta8yevr8vhspkc9j';

        function toggleDepartment(dept) {
    // Èö±ËóèÊâÄÊúâËÅ∑‰ΩçÈÅ∏È†Ö
    document.getElementById('course_positions').style.display = 'none';
    document.getElementById('education_positions').style.display = 'none';
    document.getElementById('admin_positions').style.display = 'none';
    
    // Èö±ËóèÂ∞àÈï∑ÂíåÈÜ´Â≠∏ËÉåÊôØ
    const trainerSpecialties = document.getElementById('trainer_specialties');
    const aiMedicalBackground = document.getElementById('ai_medical_background');
    if (trainerSpecialties) trainerSpecialties.style.display = 'none';
    if (aiMedicalBackground) aiMedicalBackground.style.display = 'none';
    
    // Ê∏ÖÈô§Â∑≤ÈÅ∏ÁöÑËÅ∑‰Ωç
    const positionRadios = document.querySelectorAll('input[name="position"]');
    positionRadios.forEach(radio => radio.checked = false);
    
    // Ê∏ÖÈô§Â∞àÈï∑ÈÅ∏Êìá
    const checkboxes = document.querySelectorAll('input[name="specialty"]');
    checkboxes.forEach(cb => cb.checked = false);
    
    // È°ØÁ§∫Â∞çÊáâÈÉ®ÈñÄÁöÑËÅ∑‰Ωç
    if (dept === 'course') {
        document.getElementById('course_positions').style.display = 'block';
    } else if (dept === 'education') {
        document.getElementById('education_positions').style.display = 'block';
    } else if (dept === 'admin') {
        document.getElementById('admin_positions').style.display = 'block';
    }
}

        function togglePositionDetails(position) {
    const trainerSpecialties = document.getElementById('trainer_specialties');
    const aiMedicalBackground = document.getElementById('ai_medical_background');
    
    if (trainerSpecialties) trainerSpecialties.style.display = 'none';
    if (aiMedicalBackground) aiMedicalBackground.style.display = 'none';
    
    const checkboxes = document.querySelectorAll('input[name="specialty"]');
    checkboxes.forEach(cb => cb.checked = false);
    
    if (position === 'trainer' && trainerSpecialties) {
        trainerSpecialties.style.display = 'block';
    } else if (position === 'ai' && aiMedicalBackground) {
        aiMedicalBackground.style.display = 'block';
    }
    // manager Âíå admin È°ûÂûã‰∏çÈúÄË¶ÅÈ°çÂ§ñÊ¨Ñ‰Ωç
}

        function limitSpecialtySelection(checkbox) {
            const checkboxes = document.querySelectorAll('input[name="specialty"]:checked');
            if (checkboxes.length > 2) {
                checkbox.checked = false;
                alert('ÊúÄÂ§öÂè™ËÉΩÈÅ∏ÊìáÂÖ©È†ÖÂ∞àÈï∑');
            }
        }

        function toggleOtherSpecialty() {
            const otherCheck = document.getElementById('specialty_other_check');
            const otherText = document.getElementById('specialty_other_text');
            if (otherCheck && otherText) {
                if (otherCheck.checked) {
                    otherText.style.display = 'block';
                    otherText.required = true;
                } else {
                    otherText.style.display = 'none';
                    otherText.required = false;
                    otherText.value = '';
                }
            }
        }

        function validatePositionAndNext() {
    const department = document.querySelector('input[name="department"]:checked');
    const position = document.querySelector('input[name="position"]:checked');
    
    if (!department) {
        alert('Ë´ãÈÅ∏ÊìáÊáâÂæµÈÉ®ÈñÄ');
        return;
    }
    
    if (!position) {
        alert('Ë´ãÈÅ∏ÊìáÊÇ®ÊÉ≥ÊáâÂæµÁöÑËÅ∑‰Ωç');
        return;
    }

    positionData.department = department.value;
    positionData.position = position.value;
            positionData.specialty_1 = '';
            positionData.specialty_2 = '';

            if (position.value === 'ÈáçË®ìÊïôÁ∑¥') {
                const selectedSpecialties = document.querySelectorAll('input[name="specialty"]:checked');
                
                if (selectedSpecialties.length === 0) {
                    alert('Ë´ãËá≥Â∞ëÈÅ∏Êìá‰∏ÄÈ†ÖÂ∞àÈï∑');
                    return;
                }

                selectedSpecialties.forEach((spec, index) => {
                    if (spec.value === 'ÂÖ∂‰ªñ') {
                        const otherText = document.getElementById('specialty_other_text');
                        const otherValue = otherText ? otherText.value.trim() : '';
                        if (!otherValue) {
                            alert('Ë´ãË™™ÊòéÂÖ∂‰ªñÂ∞àÈï∑');
                            return;
                        }
                        if (index === 0) {
                            positionData.specialty_1 = 'ÂÖ∂‰ªñ:' + otherValue;
                        } else if (index === 1) {
                            positionData.specialty_2 = 'ÂÖ∂‰ªñ:' + otherValue;
                        }
                    } else {
                        if (index === 0) {
                            positionData.specialty_1 = spec.value;
                        } else if (index === 1) {
                            positionData.specialty_2 = spec.value;
                        }
                    }
                });
            }

            if (position.value === 'AIÂàÜÊûêÂ∏´') {
                const medicalBackground = document.querySelector('input[name="medicalBackground"]:checked');
                if (!medicalBackground) {
                    alert('Ë´ãÈÅ∏ÊìáÊòØÂê¶ÊúâÈÅãÂãïÈÜ´Â≠∏ÊàñÁâ©ÁêÜÊ≤ªÁôÇÂ∏´Áõ∏ÈóúËÉåÊôØ');
                    return;
                }
                positionData.medicalBackground = medicalBackground.value;
            }

            document.getElementById('section1').classList.remove('active');
            currentSection = 1.5;
            document.getElementById('section1b').classList.add('active');
            updateProgress();
            window.scrollTo(0, 0);
        }
        
        function updateBirthDays() {
            const birthYear = document.getElementById('birthYear');
            const birthMonth = document.getElementById('birthMonth');
            const birthDay = document.getElementById('birthDay');
            
            const year = parseInt(birthYear.value);
            const month = parseInt(birthMonth.value);
            
            birthDay.innerHTML = '<option value="">Êó•</option>';
            
            if (!month) return;
            
            let daysInMonth = 31;
            
            if ([4, 6, 9, 11].includes(month)) {
                daysInMonth = 30;
            } else if (month === 2) {
                if (year && year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)) {
                    daysInMonth = 29;
                } else {
                    daysInMonth = 28;
                }
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const option = document.createElement('option');
                const dayValue = day.toString().padStart(2, '0');
                option.value = dayValue;
                option.textContent = day + 'Êó•';
                birthDay.appendChild(option);
            }
        }

        window.onload = function() {
            const birthYearSelect = document.getElementById('birthYear');
            const endYear = 2010;
            const startYear = 1940;
            
            for (let year = endYear; year >= startYear; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year + 'Âπ¥';
                birthYearSelect.appendChild(option);
            }

            const container = document.getElementById('personalityQuestions');
            questions.forEach((question, index) => {
                const questionNum = index + 1;
                const card = document.createElement('div');
                card.className = 'question-card';
                card.innerHTML = `
                    <div class="question-text">
                        <span class="question-number">${questionNum}</span>
                        ${question}
                    </div>
                    <div class="toggle-buttons">
                        <button class="toggle-btn yes" onclick="selectAnswer(${questionNum}, true, this)"><span>ÊòØ</span></button>
                        <button class="toggle-btn no" onclick="selectAnswer(${questionNum}, false, this)"><span>Âê¶</span></button>
                    </div>
                `;
                container.appendChild(card);
            });

            document.getElementById('phone').addEventListener('input', function(e) {
                this.value = this.value.replace(/[^0-9]/g, '');
                if (this.value.length > 0 && this.value[0] !== '0') {
                    this.value = '0' + this.value;
                }
                if (this.value.length > 1 && this.value[1] !== '9') {
                    this.value = this.value[0] + '9' + this.value.slice(2);
                }
            });

            const emailInput = document.getElementById('email');
            const emailSuggestions = document.getElementById('emailSuggestions');
            const domains = ['gmail.com', 'yahoo.com.tw', 'hotmail.com', 'outlook.com', 'icloud.com'];

            emailInput.addEventListener('input', function() {
                const value = this.value;
                const atIndex = value.indexOf('@');

                if (atIndex > 0 && atIndex === value.length - 1) {
                    const username = value.substring(0, atIndex);
                    showSuggestions(username, domains);
                } else if (atIndex > 0) {
                    const username = value.substring(0, atIndex);
                    const domainPart = value.substring(atIndex + 1).toLowerCase();
                    const filteredDomains = domains.filter(d => d.startsWith(domainPart));
                    if (filteredDomains.length > 0 && domainPart !== '') {
                        showSuggestions(username, filteredDomains);
                    } else if (domainPart === '') {
                        showSuggestions(username, domains);
                    } else {
                        hideSuggestions();
                    }
                } else {
                    hideSuggestions();
                }
            });

            emailInput.addEventListener('blur', function() {
                setTimeout(() => hideSuggestions(), 300);
            });

            emailInput.addEventListener('focus', function() {
                const value = this.value;
                const atIndex = value.indexOf('@');
                if (atIndex > 0) {
                    const username = value.substring(0, atIndex);
                    const domainPart = value.substring(atIndex + 1).toLowerCase();
                    if (domainPart === '') {
                        showSuggestions(username, domains);
                    }
                }
            });

            function showSuggestions(username, domainList) {
                emailSuggestions.innerHTML = '';
                domainList.forEach(domain => {
                    const item = document.createElement('div');
                    item.className = 'email-suggestion-item';
                    item.innerHTML = `<strong>${username}</strong>@${domain}`;
                    
                    item.addEventListener('mousedown', function(e) {
                        e.preventDefault();
                        emailInput.value = `${username}@${domain}`;
                        hideSuggestions();
                        emailInput.focus();
                    });
                    
                    emailSuggestions.appendChild(item);
                });
                emailSuggestions.style.display = 'block';
            }

            function hideSuggestions() {
                emailSuggestions.style.display = 'none';
            }

            updateProgress();
        };

        function toggleWork3YearsQuestion(hasWork) {
            const yesQuestion = document.getElementById('work3years_yes_question');
            const noQuestion = document.getElementById('work3years_no_question');
            
            if (hasWork) {
                yesQuestion.style.display = 'block';
                noQuestion.style.display = 'none';
                document.getElementById('longestWorkDuration').required = false;
            } else {
                yesQuestion.style.display = 'none';
                noQuestion.style.display = 'block';
                document.getElementById('longestWorkDuration').required = true;
            }
        }

        function updateValue(id, value) {
            document.getElementById(id + 'Value').textContent = value;
            lifeValueScores[id] = parseInt(value);
            drawLifeValueChart();
        }

        function selectAnswer(questionNum, value, element) {
            personalityAnswers[questionNum] = value;
            
            const buttons = element.parentElement.querySelectorAll('.toggle-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            element.classList.add('active');
        }

        function analyzePersonality() {
            const answeredCount = Object.keys(personalityAnswers).length;
            
            if (answeredCount < questions.length) {
                alert('Ë´ãÂÆåÊàêÊâÄÊúâ‰∫∫Ê†ºÂàÜÊûêÂïèÈ°å(Â∑≤ÂÆåÊàê ' + answeredCount + '/' + questions.length + ')');
                return;
            }

            document.getElementById('section1b').classList.remove('active');
            document.getElementById('sectionAnalyzing').classList.add('active');
            window.scrollTo(0, 0);

            setTimeout(() => {
                calculateTalentScores();
                showTalentResult();
            }, 2000);
        }

        function calculateTalentScores() {
            let dynamoRaw = 0, blazeRaw = 0, tempoRaw = 0, steelRaw = 0;

            for (let i = 1; i <= 20; i++) {
                if (personalityAnswers[i]) {
                    const type = questionTypeMap[i];
                    if (type === 'dynamo') dynamoRaw += 1;
                    else if (type === 'blaze') blazeRaw += 1;
                    else if (type === 'tempo') tempoRaw += 1;
                    else if (type === 'steel') steelRaw += 1;
                }
            }

            const maxRawScores = {
                dynamo: 4,
                blaze: 6,
                tempo: 3,
                steel: 7
            };

            const percentages = {
                dynamo: dynamoRaw / maxRawScores.dynamo,
                blaze: blazeRaw / maxRawScores.blaze,
                tempo: tempoRaw / maxRawScores.tempo,
                steel: steelRaw / maxRawScores.steel
            };

            talentScores = {
                dynamo: Math.round(percentages.dynamo * 5 * 10) / 10,
                blaze: Math.round(percentages.blaze * 5 * 10) / 10,
                tempo: Math.round(percentages.tempo * 5 * 10) / 10,
                steel: Math.round(percentages.steel * 5 * 10) / 10,
                raw: {
                    dynamo: dynamoRaw,
                    blaze: blazeRaw,
                    tempo: tempoRaw,
                    steel: steelRaw
                },
                percentages: percentages
            };
        }

        // üî• Â≠∏ÁøíË°åÁÇ∫Ë©ïÂàÜ (1-5ÂàÜ)
        function calculateLearningBehaviorScore(text) {
            if (!text || text.trim().length < 10) return 1;
            
            const textLower = text.toLowerCase();
            const highScoreKeywords = ['Ë≠âÁÖß', 'Âü∑ÁÖß', 'Ë™≤Á®ã', 'ÂüπË®ì', 'Â≠∏ÁøíË®àÁï´', 'ÁõÆÊ®ô', 'ÊàêÊûú', '‰ΩúÂìÅ', 'Â∞àÊ°à', 'ÂÅáÊó•', 'ÈÄ±Êú´', '‰∏ãÁè≠', 'Ëá™Ë≤ª', 'ÊäïË≥á', 'ÊàêÈï∑'];
            const mediumHighKeywords = ['Â≠∏Áøí', 'ÈÄ≤‰øÆ', 'Á†îÁ©∂', 'ÂØ¶‰Ωú', 'Á∑¥Áøí'];
            const lowKeywords = ['Ë¢´Ë¶ÅÊ±Ç', 'ÂÖ¨Âè∏ÂÆâÊéí', '‰∏ªÁÆ°Âè´', 'Ê≤íËæ¶Ê≥ï', 'Ë¶èÂÆö'];
            const veryLowKeywords = ['Ê≤íÊúâ', 'Ê≤íÊôÇÈñì', '‰∏çÈúÄË¶Å', '‰∏çÊÉ≥', 'Êá∂Âæó'];
            
            let score = 3;
            
            for (let keyword of veryLowKeywords) {
                if (textLower.includes(keyword)) return 1;
            }
            
            for (let keyword of lowKeywords) {
                if (textLower.includes(keyword)) return Math.max(score - 1, 2);
            }
            
            let highScoreCount = 0;
            for (let keyword of highScoreKeywords) {
                if (textLower.includes(keyword)) highScoreCount++;
            }
            
            let mediumHighCount = 0;
            for (let keyword of mediumHighKeywords) {
                if (textLower.includes(keyword)) mediumHighCount++;
            }
            
            if (highScoreCount >= 3) {
                score = 5;
            } else if (highScoreCount >= 2 || (highScoreCount >= 1 && mediumHighCount >= 2)) {
                score = 4;
            } else if (highScoreCount >= 1 || mediumHighCount >= 2) {
                score = 3;
            }
            
            if (text.length > 100 && score >= 3) {
                score = Math.min(score + 0.5, 5);
            }
            
            return Math.round(score);
        }

        // üî• Ë∑®ÊäÄËÉΩÊäïÂÖ•Ë©ïÂàÜ (1-5ÂàÜ)
        function calculateCrossSkillScore(text) {
            if (!text || text.trim().length < 10) return 1;
            
            const textLower = text.toLowerCase();
            const highScoreKeywords = ['Ëá™Ë≤ª', 'Âà©Áî®', '‰ºëÂÅá', '‰∏ãÁè≠', 'ÈÄ±Êú´', 'Ë¶èÂäÉ', 'ÊãÜËß£', 'ÁõÆÊ®ô', 'Ë≤¨‰ªª', '‰∏ªÂãï'];
            const mediumHighKeywords = ['È°òÊÑè', 'Â≠∏Áøí', 'ÊâæË≥áÊ∫ê', 'Ë™≤Á®ã', 'ÂΩ±Áâá', 'Âêå‰∫ã', 'Ë´ãÊïô', 'Ë∑®È†òÂüü', 'ÊåëÊà∞'];
            const lowKeywords = ['‰∏äÁè≠ÊôÇÈñì', 'ÂÖ¨Âè∏ÂÆâÊéí', 'ÂÖ¨Âè∏Âá∫Èå¢', '‰∏çÊÉ≥', 'Âõ∞Èõ£', 'È∫ªÁÖ©'];
            const veryLowKeywords = ['‰∏çÊòØÊàëÁöÑÂ∑•‰Ωú', '‰∏çÊúÉÂ≠∏', 'Ê≤íËààË∂£', 'ÊãíÁµï', 'ÊéíÊñ•', '‰∏çÈ°òÊÑè'];
            
            let score = 3;
            
            for (let keyword of veryLowKeywords) {
                if (textLower.includes(keyword)) return 1;
            }
            
            for (let keyword of lowKeywords) {
                if (textLower.includes(keyword)) return Math.max(score - 1, 2);
            }
            
            let highScoreCount = 0;
            for (let keyword of highScoreKeywords) {
                if (textLower.includes(keyword)) highScoreCount++;
            }
            
            let mediumHighCount = 0;
            for (let keyword of mediumHighKeywords) {
                if (textLower.includes(keyword)) mediumHighCount++;
            }
            
            if (highScoreCount >= 3) {
                score = 5;
            } else if (highScoreCount >= 2 || (highScoreCount >= 1 && mediumHighCount >= 2)) {
                score = 4;
            } else if (highScoreCount >= 1 || mediumHighCount >= 2) {
                score = 3;
            }
            
            if (text.length > 80 && score >= 3) {
                score = Math.min(score + 0.5, 5);
            }
            
            return Math.round(score);
        }
function showTalentResult() {
            document.getElementById('sectionAnalyzing').classList.remove('active');
            document.getElementById('sectionResult').classList.add('active');
            window.scrollTo(0, 0);

            drawRadarChart();
            drawLifeValueChart();
            displayScoreBars();
        }

        function drawRadarChart() {
            const canvas = document.getElementById('talentChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 60;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const data = [
                { label: 'ÁôºÈõªÊ©ü\nDynamo', value: talentScores.dynamo },
                { label: 'ÁÅ´ÁÑ∞\nBlaze', value: talentScores.blaze },
                { label: 'ÁØÄÂ•èÂûã\nTempo', value: talentScores.tempo },
                { label: 'ÈãºÈêµ\nSteel', value: talentScores.steel }
            ];
            
            const maxValue = 5;
            const numSides = data.length;
            const angleStep = (Math.PI * 2) / numSides;
            
            ctx.strokeStyle = '#e2ede6';
            ctx.lineWidth = 2;
            
            for (let level = 1; level <= 5; level++) {
                const levelRadius = (radius / 5) * level;
                ctx.beginPath();
                
                for (let i = 0; i <= numSides; i++) {
                    const angle = angleStep * i - Math.PI / 2;
                    const x = centerX + Math.cos(angle) * levelRadius;
                    const y = centerY + Math.sin(angle) * levelRadius;
                    
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                
                ctx.closePath();
                ctx.stroke();
            }
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
            
            ctx.fillStyle = 'rgba(122, 193, 154, 0.2)';
            ctx.strokeStyle = '#7ac19a';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const value = data[i].value;
                const distance = (radius / maxValue) * value;
                const x = centerX + Math.cos(angle) * distance;
                const y = centerY + Math.sin(angle) * distance;
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            ctx.fillStyle = '#7ac19a';
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const value = data[i].value;
                const distance = (radius / maxValue) * value;
                const x = centerX + Math.cos(angle) * distance;
                const y = centerY + Math.sin(angle) * distance;
                
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 3;
                ctx.stroke();
            }
            
            ctx.fillStyle = '#5f846f';
            ctx.font = 'bold 12px "Noto Sans TC", sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const labelDistance = radius + 40;
                const x = centerX + Math.cos(angle) * labelDistance;
                const y = centerY + Math.sin(angle) * labelDistance;
                
                const lines = data[i].label.split('\n');
                lines.forEach((line, index) => {
                    ctx.fillText(line, x, y + (index - 0.5) * 14);
                });
            }
            
            ctx.fillStyle = '#66888e';
            ctx.font = '11px "Noto Sans TC", sans-serif';
            ctx.textAlign = 'left';
            ctx.textBaseline = 'middle';
            
            for (let level = 1; level <= 5; level++) {
                ctx.fillText(level.toString(), centerX + 5, centerY - (radius / 5) * level);
            }
        }

        function drawLifeValueChart() {
            const canvas = document.getElementById('lifeValueChart');
            if (!canvas || !canvas.getContext) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 60;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const data = [
                { label: '‰∫ãÊ•≠', value: lifeValueScores.career || 0 },
                { label: 'ÈáëÈå¢', value: lifeValueScores.money || 0 },
                { label: 'ÂÆ∂Â∫≠', value: lifeValueScores.family || 0 },
                { label: 'ÊÑüÊÉÖ', value: lifeValueScores.relationship || 0 },
                { label: 'ÂÅ•Â∫∑', value: lifeValueScores.health || 0 },
                { label: 'Áç®Ëôï', value: lifeValueScores.alone || 0 },
                { label: 'ÊúãÂèã', value: lifeValueScores.friends || 0 }
            ];
            
            const maxValue = 10;
            const numSides = data.length;
            const angleStep = (Math.PI * 2) / numSides;
            
            ctx.strokeStyle = '#e2ede6';
            ctx.lineWidth = 2;
            
            for (let level = 2; level <= 10; level += 2) {
                const levelRadius = (radius / 10) * level;
                ctx.beginPath();
                
                for (let i = 0; i <= numSides; i++) {
                    const angle = angleStep * i - Math.PI / 2;
                    const x = centerX + Math.cos(angle) * levelRadius;
                    const y = centerY + Math.sin(angle) * levelRadius;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                
                ctx.closePath();
                ctx.stroke();
            }
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
            
            ctx.fillStyle = 'rgba(122, 193, 154, 0.2)';
            ctx.strokeStyle = '#7ac19a';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const value = data[i].value;
                const distance = (radius / maxValue) * value;
                const x = centerX + Math.cos(angle) * distance;
                const y = centerY + Math.sin(angle) * distance;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            ctx.fillStyle = '#7ac19a';
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const value = data[i].value;
                const distance = (radius / maxValue) * value;
                const x = centerX + Math.cos(angle) * distance;
                const y = centerY + Math.sin(angle) * distance;
                
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 3;
                ctx.stroke();
            }
            
            ctx.fillStyle = '#5f846f';
            ctx.font = 'bold 13px "Noto Sans TC", sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            for (let i = 0; i < numSides; i++) {
                const angle = angleStep * i - Math.PI / 2;
                const labelDistance = radius + 35;
                const x = centerX + Math.cos(angle) * labelDistance;
                const y = centerY + Math.sin(angle) * labelDistance;
                
                ctx.fillText(data[i].label, x, y);
            }
        }

        function displayScoreBars() {
            const talentDescriptions = {
                dynamo: 'ÊìÖÈï∑„ÄåÂâµÊÑè„Äç,ÂñÑÊñºÂïüÂãïËàáÊé®Âãï‰∫ãÊÉÖÁöÑÈÄ≤Â±ï,ÊìÅÊúâÂçÅË∂≥ÁöÑÊÑüÊüìÂäõ',
                blaze: 'ÊìÖÈï∑„Äå‰∫∫Èöõ„Äç,Êää‰∫∫ÊîæÂú®È¶ñ‰Ωç,ÂñúÊÑõÁ∂≠Ë≠∑‰∫∫Ëàá‰∫∫‰πãÈñìÁöÑÈóú‰øÇ',
                tempo: 'ÊìÖÈï∑„ÄåËÖ≥Ë∏èÂØ¶Âú∞„Äç,ÂñÑÁî®„ÄåÊôÇÊ©ü„Äç,ËÉΩÂú®ÊúÄÂ•ΩÁöÑÊôÇÊ©üÈªûÂá∫Êâã',
                steel: 'ÊìÖÈï∑„ÄåÁ¥∞ÁØÄ„Äç,ÂÄãÊÄßÂÜ∑Èùú„ÄÅÊ≤âËëóÁ©©Èáç,ÈáçË¶ñÈÇèËºØ‰ª•ÂèäÊï∏Â≠óÂàÜÊûê'
            };

            const maxScores = {
                dynamo: 5,
                blaze: 5,
                tempo: 5,
                steel: 5
            };

            const scoresHtml = `
                <div class="talent-score-item">
                    <div class="talent-score-header">
                        <span class="talent-label">ÁôºÈõªÊ©ü (Dynamo)</span>
                        <span class="talent-value">${talentScores.dynamo.toFixed(1)}<span style="font-size: 14px; color: #808080;">/${maxScores.dynamo}</span></span>
                    </div>
                    <div class="talent-bar">
                        <div class="talent-bar-fill" style="width: ${(talentScores.dynamo / maxScores.dynamo) * 100}%">
                            ${talentScores.dynamo >= 1 ? '<span class="talent-score">' + '‚òÖ'.repeat(Math.round(talentScores.dynamo)) + '</span>' : ''}
                        </div>
                    </div>
                    <div class="talent-description">${talentDescriptions.dynamo}</div>
                </div>
                <div class="talent-score-item">
                    <div class="talent-score-header">
                        <span class="talent-label">ÁÅ´ÁÑ∞ (Blaze)</span>
                        <span class="talent-value">${talentScores.blaze.toFixed(1)}<span style="font-size: 14px; color: #808080;">/${maxScores.blaze}</span></span>
                    </div>
                    <div class="talent-bar">
                        <div class="talent-bar-fill" style="width: ${(talentScores.blaze / maxScores.blaze) * 100}%">
                            ${talentScores.blaze >= 1 ? '<span class="talent-score">' + '‚òÖ'.repeat(Math.round(talentScores.blaze)) + '</span>' : ''}
                        </div>
                    </div>
                    <div class="talent-description">${talentDescriptions.blaze}</div>
                </div>
                <div class="talent-score-item">
                    <div class="talent-score-header">
                        <span class="talent-label">ÁØÄÂ•èÂûã (Tempo)</span>
                        <span class="talent-value">${talentScores.tempo.toFixed(1)}<span style="font-size: 14px; color: #808080;">/${maxScores.tempo}</span></span>
                    </div>
                    <div class="talent-bar">
                        <div class="talent-bar-fill" style="width: ${(talentScores.tempo / maxScores.tempo) * 100}%">
                            ${talentScores.tempo >= 1 ? '<span class="talent-score">' + '‚òÖ'.repeat(Math.round(talentScores.tempo)) + '</span>' : ''}
                        </div>
                    </div>
                    <div class="talent-description">${talentDescriptions.tempo}</div>
                </div>
                <div class="talent-score-item">
                    <div class="talent-score-header">
                        <span class="talent-label">ÈãºÈêµ (Steel)</span>
                        <span class="talent-value">${talentScores.steel.toFixed(1)}<span style="font-size: 14px; color: #808080;">/${maxScores.steel}</span></span>
                    </div>
                    <div class="talent-bar">
                        <div class="talent-bar-fill" style="width: ${(talentScores.steel / maxScores.steel) * 100}%">
                            ${talentScores.steel >= 1 ? '<span class="talent-score">' + '‚òÖ'.repeat(Math.round(talentScores.steel)) + '</span>' : ''}
                        </div>
                    </div>
                    <div class="talent-description">${talentDescriptions.steel}</div>
                </div>
            `;
            document.getElementById('talentScores').innerHTML = scoresHtml;

            const scores = [
                { type: 'dynamo', score: talentScores.dynamo, name: 'ÁôºÈõªÊ©ü', max: maxScores.dynamo },
                { type: 'blaze', score: talentScores.blaze, name: 'ÁÅ´ÁÑ∞', max: maxScores.blaze },
                { type: 'tempo', score: talentScores.tempo, name: 'ÁØÄÂ•èÂûã', max: maxScores.tempo },
                { type: 'steel', score: talentScores.steel, name: 'ÈãºÈêµ', max: maxScores.steel }
            ];
            
            scores.sort((a, b) => (b.score / b.max) - (a.score / a.max));
            const primaryTalent = scores[0];
            const secondaryTalent = scores[1];
            
            let recommendation = '';
            let description = '';
            
            const appliedPosition = positionData.position;
            
            if (primaryTalent.type === 'dynamo') {
                description = `ÊÇ®ÊòØÂ§©ÁîüÁöÑ<strong>ÂâµÊñ∞ËÄÖ</strong><span class="score-badge">ÂÑ™Âã¢Â§©Ë≥¶</span><br>ÊìÖÈï∑Á™ÅÁ†¥Â∏∏Ë¶è„ÄÅÈñãÂâµÊñ∞Â±Ä,ÈÅ©ÂêàÈúÄË¶ÅÂâµÊÑèÊÄùÁ∂≠ÁöÑËÅ∑‰Ωç„ÄÇÊÇ®ËÉΩÂ∞áÊñ∞Á©éÁöÑÊÉ≥Ê≥ïËΩâÂåñÁÇ∫ÂØ¶ÈöõË°åÂãï,Âú®ËÆäÂåñÂø´ÈÄüÁöÑÁí∞Â¢É‰∏≠Â¶ÇÈ≠öÂæóÊ∞¥„ÄÇ`;
                
                if (appliedPosition === 'ÈáçË®ìÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑÂâµÊÑèÂ§©Ë≥¶ÈùûÂ∏∏ÈÅ©Âêà<strong>Ë™≤Á®ãË®≠Ë®à</strong>Ëàá<strong>Ë®ìÁ∑¥ÂâµÊñ∞</strong>!Âª∫Ë≠∞ÊÇ®ÂèØ‰ª•:<br>‚Ä¢ ÈñãÁôºÁç®ÁâπÁöÑË®ìÁ∑¥Ë™≤Á®ãÂíåÂãï‰ΩúÁµÑÂêà<br>‚Ä¢ ÁÇ∫‰∏çÂêåÂÆ¢Êà∂Ë®≠Ë®àÂÄãÊÄßÂåñÁöÑË®ìÁ∑¥Ë®àÁï´<br>‚Ä¢ ÂòóË©¶ÁµêÂêàÊñ∞ËààË®ìÁ∑¥ÊñπÊ≥ï,ÂâµÈÄ†Â∑ÆÁï∞ÂåñÊúçÂãô';
                } else if (appliedPosition === 'Âô®Ê¢∞ÁöÆÊãâÊèêÊñØÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑÂâµÊÑèËÉΩÁÇ∫ÁöÆÊãâÊèêÊñØÊïôÂ≠∏Â∏∂‰æÜÊñ∞ÊÑè!Âª∫Ë≠∞:<br>‚Ä¢ Ë®≠Ë®àÂâµÊñ∞ÁöÑÂô®Ê¢∞Ë®ìÁ∑¥ÁµÑÂêà<br>‚Ä¢ ÈñãÁôºËûçÂêà‰∏çÂêåÈ¢®Ê†ºÁöÑË™≤Á®ã<br>‚Ä¢ Áî®ÂâµÊÑèÊñπÂºèËß£ÈáãÂãï‰ΩúË¶ÅÈ†ò,ËÆìÂ≠∏Âì°Êõ¥ÊòìÁêÜËß£';
                } else if (appliedPosition === '‰º∏Â±ïÂ∏´') {
                    recommendation = 'ÊÇ®ÂèØ‰ª•Âú®‰º∏Â±ïÈ†òÂüüÁôºÊèÆÂâµÊÑè!Âª∫Ë≠∞:<br>‚Ä¢ ÁµêÂêà‰∏çÂêå‰º∏Â±ïÊäÄË°ì,ÂâµÈÄ†Áç®ÁâπÊâãÊ≥ï<br>‚Ä¢ ÈñãÁôºÈáùÂ∞çÁâπÂÆöÈúÄÊ±ÇÁöÑ‰º∏Â±ïÊñπÊ°à<br>‚Ä¢ Áî®ÂâµÊñ∞ÊñπÂºèÊèêÂçáÂÆ¢Êà∂È´îÈ©ó';
                } else if (appliedPosition === 'AIÂàÜÊûêÂ∏´') {
                    recommendation = 'ÊÇ®ÁöÑÂâµÊñ∞ÊÄùÁ∂≠ÂæàÈÅ©ÂêàAIÊáâÁî®ÈñãÁôº!Âª∫Ë≠∞:<br>‚Ä¢ Êé¢Á¥¢AIÂú®ÈÅãÂãïÂàÜÊûêÁöÑÂâµÊñ∞ÊáâÁî®<br>‚Ä¢ Ë®≠Ë®àÊõ¥Áõ¥ËßÄÁöÑÊï∏ÊìöÂëàÁèæÊñπÂºè<br>‚Ä¢ ÈñãÁôºÊñ∞ÁöÑË©ï‰º∞ÊåáÊ®ôÂíåÂàÜÊûêÊ®°Âûã';
                }
                // ÊïôÂãôÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÁáüÈÅãÁ∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊñ∞ÊÄùÁ∂≠ÂæàÈÅ©ÂêàÁáüÈÅãÁÆ°ÁêÜ!Âª∫Ë≠∞:<br>‚Ä¢ Êé®ÂãïÂâµÊñ∞ÁöÑÁáüÈÅãÊ®°ÂºèÂíåÊµÅÁ®ãÂÑ™Âåñ<br>‚Ä¢ ÈñãÁôºÊñ∞ÁöÑÊúçÂãôÈ†ÖÁõÆÂíåÂïÜÊ•≠Ê®°Âºè<br>‚Ä¢ Â∏∂È†òÂúòÈöäÁ™ÅÁ†¥ÂÇ≥Áµ±ÊÄùÁ∂≠Ê°ÜÊû∂';
} else if (appliedPosition === 'ÁöÆÊãâÊèêÊñØÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊÑèÂ§©Ë≥¶ËÉΩÂ∏∂È†òÁöÆÊãâÊèêÊñØÂúòÈöäÂâµÊñ∞!Âª∫Ë≠∞:<br>‚Ä¢ ÈñãÁôºÁç®ÁâπÁöÑË™≤Á®ãÈ´îÁ≥ªÂíåÊïôÂ≠∏ÊñπÊ≥ï<br>‚Ä¢ Êé®ÂãïÊïôÁ∑¥ÂúòÈöäÁöÑÂâµÊñ∞ÂüπË®ì<br>‚Ä¢ Ë®≠Ë®àÂ∑ÆÁï∞ÂåñÁöÑÊúçÂãôÈ´îÈ©ó';
} else if (appliedPosition === 'ÈáçË®ìÂÅ•Ë∫´ÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊñ∞ËÉΩÂäõÈÅ©ÂêàÂ∏∂È†òÂÅ•Ë∫´ÂúòÈöä!Âª∫Ë≠∞:<br>‚Ä¢ ÈñãÁôºÂâµÊñ∞ÁöÑË®ìÁ∑¥Ë™≤Á®ãÂíåÊñπÊ°à<br>‚Ä¢ Êé®ÂãïÊñ∞ÁöÑÊïôÁ∑¥ÂüπË®ìÊ®°Âºè<br>‚Ä¢ ÂºïÈÄ≤ÂâçÊ≤øÁöÑË®ìÁ∑¥ÁêÜÂøµÂíåÊñπÊ≥ï';
} else if (appliedPosition === 'ËÇåËÇâË≥¶ËÉΩ‰º∏Â±ïÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊÑèÊÄùÁ∂≠ËÉΩÁÇ∫‰º∏Â±ïÊúçÂãôÂ∏∂‰æÜÁ™ÅÁ†¥!Âª∫Ë≠∞:<br>‚Ä¢ ÈñãÁôºÂâµÊñ∞ÁöÑ‰º∏Â±ïÊäÄË°ìÂíåÊµÅÁ®ã<br>‚Ä¢ Ë®≠Ë®àÁç®ÁâπÁöÑÂÆ¢Êà∂ÊúçÂãôÈ´îÈ©ó<br>‚Ä¢ Â∏∂È†òÂúòÈöäÊé¢Á¥¢Êñ∞ÁöÑÊúçÂãôÊ®°Âºè';
}
// Ë°åÊîøÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÂÆ¢ÊúçË°åÊîøÂ∞àÂì°') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊÑèÂ§©Ë≥¶ËÉΩÊèêÂçáÂÆ¢Êà∂ÊúçÂãôÈ´îÈ©ó!Âª∫Ë≠∞:<br>‚Ä¢ Ë®≠Ë®àÂâµÊñ∞ÁöÑÂÆ¢Êà∂ÊúçÂãôÊµÅÁ®ã<br>‚Ä¢ ÈñãÁôºÊõ¥ÊúâÊïàÁöÑÂÆ¢Êà∂Ê∫ùÈÄöÊñπÂºè<br>‚Ä¢ ÊèêÂá∫ÊîπÂñÑË°åÊîøÊïàÁéáÁöÑÊñ∞ÈªûÂ≠ê';
} else if (appliedPosition === 'Ê•≠Âãô‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊñ∞ÊÄùÁ∂≠ÊòØÊ•≠ÂãôÈñãÁôºÁöÑÂÑ™Âã¢!Âª∫Ë≠∞:<br>‚Ä¢ ÈñãÁôºÁç®ÁâπÁöÑÈä∑ÂîÆÁ≠ñÁï•ÂíåË©±Ë°ì<br>‚Ä¢ Ë®≠Ë®àÂâµÊñ∞ÁöÑÂÆ¢Êà∂ÈñãÁôºÊñπÊ°à<br>‚Ä¢ ÊèêÂá∫Â∑ÆÁï∞ÂåñÁöÑÁî¢ÂìÅÁµÑÂêàÂª∫Ë≠∞';
} else if (appliedPosition === 'Ë°åÈä∑‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑÂâµÊÑèÂ§©Ë≥¶ÂÆåÁæéÂ•ëÂêàË°åÈä∑Â∑•‰Ωú!Âª∫Ë≠∞:<br>‚Ä¢ Á≠ñÂäÉÂâµÊñ∞ÁöÑË°åÈä∑Ê¥ªÂãïÂíåÂÖßÂÆπ<br>‚Ä¢ ÈñãÁôºÁç®ÁâπÁöÑÂìÅÁâåÂÇ≥Êí≠ÊñπÂºè<br>‚Ä¢ Êé¢Á¥¢Êñ∞ÁöÑË°åÈä∑Ê∏†ÈÅìÂíåÊâãÊ≥ï';
}
            } else if (primaryTalent.type === 'blaze') {
                description = `ÊÇ®ÊìÅÊúâÂçìË∂äÁöÑ<strong>ÁÜ±ÊÉÖËàáÊÑüÊüìÂäõ</strong><span class="score-badge">ÂÑ™Âã¢Â§©Ë≥¶</span><br>ÂñÑÊñºÊøÄÂãµ‰ªñ‰∫∫„ÄÅÂª∫Á´ãÂ£´Ê∞£,ÊúÄÈÅ©ÂêàÈúÄË¶ÅÊøÄÁôºÂúòÈöäÂãïÂäõÁöÑËÅ∑‰Ωç„ÄÇÊÇ®ÁöÑÁÜ±ÊÉÖËÉΩÈªûÁáÉ‰ªñ‰∫∫ÁöÑÊΩõËÉΩ,ÊòØÂúòÈöä‰∏≠ÁöÑËÉΩÈáèÊ†∏ÂøÉ„ÄÇ`;
                
                if (appliedPosition === 'ÈáçË®ìÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑ‰∫∫ÈöõÈ≠ÖÂäõÊòØÊïôÁ∑¥Â∑•‰ΩúÁöÑÊúÄÂ§ßÂÑ™Âã¢!Âª∫Ë≠∞:<br>‚Ä¢ Â∞àÊ≥®ÊñºÂª∫Á´ãÊ∑±ÂéöÁöÑÊïôÁ∑¥-Â≠∏Âì°Èóú‰øÇ<br>‚Ä¢ Áî®ÊÇ®ÁöÑÁÜ±ÊÉÖÊøÄÂãµÂ≠∏Âì°Á™ÅÁ†¥Áì∂È†∏<br>‚Ä¢ ÁôºÂ±ïÂ∞èÂúòÈ´îË™≤Á®ã,ÁôºÊèÆÊÇ®ÁöÑÂúòÈöäÂáùËÅöÂäõ<br>‚Ä¢ ÊàêÁÇ∫ÊúÉÂì°Á§æÁæ§ÁöÑÊ†∏ÂøÉ‰∫∫Áâ©';
                } else if (appliedPosition === 'Âô®Ê¢∞ÁöÆÊãâÊèêÊñØÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑË¶™ÂíåÂäõËÉΩËÆìÂ≠∏Âì°Êõ¥ÊäïÂÖ•Ë™≤Á®ã!Âª∫Ë≠∞:<br>‚Ä¢ ÁáüÈÄ†Ê∫´È¶®ÁöÑË™≤Â†ÇÊ∞õÂúç<br>‚Ä¢ Áî®ÈºìÂãµÂíåÊ≠£ÂêëÂõûÈ•ãÊøÄÂãµÂ≠∏Âì°<br>‚Ä¢ Âª∫Á´ãÂ≠∏Âì°‰πãÈñìÁöÑÈÄ£ÁµêÂíå‰∫íÂãï';
                } else if (appliedPosition === '‰º∏Â±ïÂ∏´') {
                    recommendation = 'ÊÇ®ÁöÑÂêåÁêÜÂøÉËÉΩÊèê‰æõÁµï‰Ω≥ÁöÑÊúçÂãôÈ´îÈ©ó!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•‰∫ÜËß£ÂÆ¢Êà∂ÈúÄÊ±Ç,Âª∫Á´ã‰ø°‰ªªÈóú‰øÇ<br>‚Ä¢ Áî®Ê∫´ÊöñÁöÑ‰∫íÂãïËÆìÂÆ¢Êà∂ÊÑüÂà∞ÊîæÈ¨Ü<br>‚Ä¢ ÊàêÁÇ∫ÂÆ¢Êà∂Èï∑Êúü‰ø°Ë≥¥ÁöÑ‰º∏Â±ïÂ∏´';
                } else if (appliedPosition === 'AIÂàÜÊûêÂ∏´') {
                    recommendation = 'ÊÇ®ËÉΩÂ∞áÂÜ∞ÂÜ∑ÁöÑÊï∏ÊìöËÆäÂæóÊúâÊ∫´Â∫¶!Âª∫Ë≠∞:<br>‚Ä¢ Áî®ÂêåÁêÜÂøÉÁêÜËß£‰ΩøÁî®ËÄÖÈúÄÊ±Ç<br>‚Ä¢ Ë®≠Ë®àÊõ¥‰∫∫ÊÄßÂåñÁöÑÂàÜÊûêÂ†±Âëä<br>‚Ä¢ Êìî‰ªªÊäÄË°ìÂúòÈöäËàáÂÆ¢Êà∂‰πãÈñìÁöÑÊ©ãÊ®ë';
                }
                // ÊïôÂãôÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÁáüÈÅãÁ∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑ‰∫∫ÈöõÈ≠ÖÂäõÊòØÁÆ°ÁêÜÂúòÈöäÁöÑÊúÄÂ§ßÂÑ™Âã¢!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÊ∫´ÊöñÊ≠£ÂêëÁöÑÂúòÈöäÊñáÂåñ<br>‚Ä¢ Áî®ÁÜ±ÊÉÖÊøÄÂãµÂì°Â∑•ÈÅîÊàêÁõÆÊ®ô<br>‚Ä¢ ÊàêÁÇ∫Ë∑®ÈÉ®ÈñÄÊ∫ùÈÄöÁöÑÊ©ãÊ®ë';
} else if (appliedPosition === 'ÁöÆÊãâÊèêÊñØÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑË¶™ÂíåÂäõËÉΩÂáùËÅöÊïôÁ∑¥ÂúòÈöä!Âª∫Ë≠∞:<br>‚Ä¢ ÁáüÈÄ†‰∫íÂä©Âêà‰ΩúÁöÑÂúòÈöäÊ∞õÂúç<br>‚Ä¢ Áî®ÈºìÂãµÂíåÊîØÊåÅÂüπÈ§äÊïôÁ∑¥ÊàêÈï∑<br>‚Ä¢ Âª∫Á´ãÊïôÁ∑¥ËàáÂ≠∏Âì°‰πãÈñìÁöÑËâØÂ•ΩÈóú‰øÇ';
} else if (appliedPosition === 'ÈáçË®ìÂÅ•Ë∫´ÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÁÜ±ÊÉÖËÉΩÂ∏∂ÂãïÊï¥ÂÄãÂÅ•Ë∫´ÂúòÈöä!Âª∫Ë≠∞:<br>‚Ä¢ ÊøÄÂãµÊïôÁ∑¥ÂúòÈöäÁöÑÂ£´Ê∞£ÂíåÂãïÂäõ<br>‚Ä¢ Âª∫Á´ãÊ≠£ÂêëÁ©çÊ•µÁöÑÂúòÈöäÊñáÂåñ<br>‚Ä¢ ÊàêÁÇ∫ÊúÉÂì°ÂíåÊïôÁ∑¥‰πãÈñìÁöÑÈÄ£Áµê';
} else if (appliedPosition === 'ËÇåËÇâË≥¶ËÉΩ‰º∏Â±ïÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂêåÁêÜÂøÉËÉΩÊâìÈÄ†ÂÑ™Ë≥™ÊúçÂãôÂúòÈöä!Âª∫Ë≠∞:<br>‚Ä¢ ÂüπÈ§äÂúòÈöäÁöÑÊúçÂãôÁÜ±Âø±<br>‚Ä¢ Âª∫Á´ãÂÆ¢Êà∂Â∞éÂêëÁöÑÊúçÂãôÊñáÂåñ<br>‚Ä¢ Áî®Ê∫´ÊöñÁöÑÈ†òÂ∞éÂáùËÅöÂúòÈöäÂêëÂøÉÂäõ';
}
// Ë°åÊîøÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÂÆ¢ÊúçË°åÊîøÂ∞àÂì°') {
    recommendation = 'ÊÇ®ÁöÑË¶™ÂíåÂäõÊòØÂÆ¢ÊúçÂ∑•‰ΩúÁöÑÂ§©Ë≥¶!Âª∫Ë≠∞:<br>‚Ä¢ Áî®Ê∫´ÊöñÁöÑÊÖãÂ∫¶ÊúçÂãôÊØè‰ΩçÂÆ¢Êà∂<br>‚Ä¢ Âª∫Á´ãËâØÂ•ΩÁöÑÂÆ¢Êà∂Èóú‰øÇÂíåÂè£Á¢ë<br>‚Ä¢ ÊàêÁÇ∫ÂÆ¢Êà∂‰ø°Ë≥¥ÁöÑÊúçÂãôÁ™óÂè£';
} else if (appliedPosition === 'Ê•≠Âãô‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑ‰∫∫ÈöõÈ≠ÖÂäõÊòØÊ•≠ÂãôÊàêÂäüÁöÑÈóúÈçµ!Âª∫Ë≠∞:<br>‚Ä¢ Áî®ÁúüË™†ÁöÑÊÖãÂ∫¶Âª∫Á´ãÂÆ¢Êà∂‰ø°‰ªª<br>‚Ä¢ ÁôºÂ±ïÈï∑ÊúüÁ©©ÂÆöÁöÑÂÆ¢Êà∂Èóú‰øÇ<br>‚Ä¢ ÈÄèÈÅé‰∫∫ËÑàÁ∂≤Áµ°ÈñãÁôºÊñ∞ÂÆ¢Ê∫ê';
} else if (appliedPosition === 'Ë°åÈä∑‰∫∫Âì°') {
    recommendation = 'ÊÇ®ËÉΩËÆìÂìÅÁâåÊõ¥ÊúâÊ∫´Â∫¶!Âª∫Ë≠∞:<br>‚Ä¢ Á≠ñÂäÉËÉΩÂºïÁôºÂÖ±È≥¥ÁöÑË°åÈä∑ÂÖßÂÆπ<br>‚Ä¢ Âª∫Á´ãÂìÅÁâåËàáÂÆ¢Êà∂ÁöÑÊÉÖÊÑüÈÄ£Áµê<br>‚Ä¢ ÂñÑÁî®‰∫∫ÈöõÁ∂≤Áµ°Êì¥Â§ßÂìÅÁâåÂΩ±ÈüøÂäõ';
}
            } else if (primaryTalent.type === 'tempo') {
                description = `ÊÇ®ÂÖ∑ÂÇôÂÑ™ÁßÄÁöÑ<strong>Âü∑Ë°åÂäõËàáÁ©©ÂÆöÊÄß</strong><span class="score-badge">ÂÑ™Âã¢Â§©Ë≥¶</span><br>Ê≥®ÈáçÁ¥∞ÁØÄ„ÄÅÊµÅÁ®ãÂåñÊÄùÁ∂≠,ÊìÖÈï∑Â∞áÊÉ≥Ê≥ïËêΩÂØ¶ÁÇ∫Ê®ôÊ∫ñ‰ΩúÊ•≠„ÄÇÊÇ®ÁöÑÂèØÈù†ÊÄßËÆìÂúòÈöäËÉΩÂ§†Á©©ÂÆöÈÅã‰Ωú,ÊòØÁµÑÁπî‰∏≠‰∏çÂèØÊàñÁº∫ÁöÑÊîØÊü±„ÄÇ`;
                
                if (appliedPosition === 'ÈáçË®ìÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑÁ≥ªÁµ±ÂåñÊÄùÁ∂≠ÈÅ©ÂêàÁ≤æÊ∫ñË®ìÁ∑¥!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÂÆåÊï¥ÁöÑË®ìÁ∑¥ÈÄ≤Â∫¶ËøΩËπ§Á≥ªÁµ±<br>‚Ä¢ Â∞àÊ≥®Êñº<strong>ÁüØÊ≠£ÊÄßË®ìÁ∑¥</strong>Âíå<strong>ÂäüËÉΩÊÄßË®ìÁ∑¥</strong><br>‚Ä¢ Âà∂ÂÆöË©≥Á¥∞ÁöÑÈÄ±ÊúüÂåñË®ìÁ∑¥Ë®àÁï´<br>‚Ä¢ Á≤æÁ¢∫Ë®òÈåÑ‰∏¶ÂàÜÊûêÂ≠∏Âì°ÈÄ≤Ê≠•Êï∏Êìö';
                } else if (appliedPosition === 'Âô®Ê¢∞ÁöÆÊãâÊèêÊñØÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑÁ¥∞Á∑ªÂ∫¶ÂæàÈÅ©ÂêàÁöÆÊãâÊèêÊñØÊïôÂ≠∏!Âª∫Ë≠∞:<br>‚Ä¢ Â∞àÊ≥®ÊñºÂãï‰ΩúÁöÑÁ≤æÊ∫ñÊåáÂ∞é<br>‚Ä¢ Âª∫Á´ãÁ≥ªÁµ±ÂåñÁöÑÊïôÂ≠∏ÊµÅÁ®ã<br>‚Ä¢ ‰ªîÁ¥∞Ë©ï‰º∞Â≠∏Âì°ÁöÑË∫´È´îÁãÄÊ≥ÅÂíåÈÄ≤Â∫¶';
                } else if (appliedPosition === '‰º∏Â±ïÂ∏´') {
                    recommendation = 'ÊÇ®ÁöÑÁ¥∞ÂøÉËÉΩÊèê‰æõÂ∞àÊ•≠ÊúçÂãô!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÊ®ôÊ∫ñÂåñÁöÑË©ï‰º∞ÂíåÊìç‰ΩúÊµÅÁ®ã<br>‚Ä¢ Ë©≥Á¥∞Ë®òÈåÑÊØèÊ¨°ÊúçÂãôÁöÑÈáçÈªû<br>‚Ä¢ ÊåâÈÉ®Â∞±Áè≠Âú∞Âü∑Ë°å‰º∏Â±ïË®àÁï´';
                } else if (appliedPosition === 'AIÂàÜÊûêÂ∏´') {
                    recommendation = 'ÊÇ®ÁöÑÁ≥ªÁµ±ÂåñÊÄùÁ∂≠ÂæàÈÅ©ÂêàÊï∏ÊìöÂàÜÊûê!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÂÆåÊï¥ÁöÑÂàÜÊûêÊµÅÁ®ãÂíåÊ®ôÊ∫ñ<br>‚Ä¢ Á¢∫‰øùÊï∏ÊìöÂìÅË≥™ÂíåÂàÜÊûêÊ∫ñÁ¢∫ÊÄß<br>‚Ä¢ ÈñãÁôºÂèØÈáçË§á‰ΩøÁî®ÁöÑÂàÜÊûêÊ®°Êùø';
                }
                // ÊïôÂãôÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÁáüÈÅãÁ∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂü∑Ë°åÂäõËÉΩÁ¢∫‰øùÁáüÈÅãÁ©©ÂÆö!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÊ®ôÊ∫ñÂåñÁöÑÁáüÈÅãÊµÅÁ®ã<br>‚Ä¢ Á¢∫‰øùÂêÑÈ†ÖÂ∑•‰ΩúÊåâË®àÂäÉÂü∑Ë°å<br>‚Ä¢ Á©©ÂÆöÊé®ÂãïÂúòÈöäÈÅîÊàêÁõÆÊ®ô';
} else if (appliedPosition === 'ÁöÆÊãâÊèêÊñØÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÁ¥∞Á∑ªÂ∫¶ËÉΩÊèêÂçáÊïôÂ≠∏ÂìÅË≥™!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÁ≥ªÁµ±ÂåñÁöÑÊïôÁ∑¥ÂüπË®ìÊµÅÁ®ã<br>‚Ä¢ Á¢∫‰øùË™≤Á®ãÂìÅË≥™ÁöÑ‰∏ÄËá¥ÊÄß<br>‚Ä¢ Á©©ÂÆöÊé®ÂãïÂúòÈöäÂ∞àÊ•≠ÊàêÈï∑';
} else if (appliedPosition === 'ÈáçË®ìÂÅ•Ë∫´ÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÁ©©ÂÆöÊÄßËÉΩÊâìÈÄ†ÂèØÈù†ÂúòÈöä!Âª∫Ë≠∞:<br>‚Ä¢ Âà∂ÂÆöÂÆåÂñÑÁöÑÊïôÁ∑¥ÁÆ°ÁêÜÂà∂Â∫¶<br>‚Ä¢ Âª∫Á´ãÊ®ôÊ∫ñÂåñÁöÑË®ìÁ∑¥ÊµÅÁ®ã<br>‚Ä¢ Á¢∫‰øùÊúçÂãôÂìÅË≥™ÁöÑÁ©©ÂÆöËº∏Âá∫';
} else if (appliedPosition === 'ËÇåËÇâË≥¶ËÉΩ‰º∏Â±ïÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÁ≥ªÁµ±ÂåñÊÄùÁ∂≠ÈÅ©ÂêàÊúçÂãôÁÆ°ÁêÜ!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÊ®ôÊ∫ñÂåñÁöÑÊúçÂãôÊµÅÁ®ã<br>‚Ä¢ Á¢∫‰øùÊØè‰ΩçÂÆ¢Êà∂Áç≤Âæó‰∏ÄËá¥ÁöÑÈ´îÈ©ó<br>‚Ä¢ Á©©ÂÆöÊèêÂçáÂúòÈöäÁöÑÊúçÂãôÂìÅË≥™';
}
// Ë°åÊîøÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÂÆ¢ÊúçË°åÊîøÂ∞àÂì°') {
    recommendation = 'ÊÇ®ÁöÑÂèØÈù†ÊÄßÊòØË°åÊîøÂ∑•‰ΩúÁöÑÂÑ™Âã¢!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÊúâÊ¢ùÁêÜÁöÑË°åÊîø‰ΩúÊ•≠ÊµÅÁ®ã<br>‚Ä¢ Á¢∫‰øùÂêÑÈ†Ö‰∫ãÂãôÊ∫ñÊôÇÂÆåÊàê<br>‚Ä¢ Êèê‰æõÁ©©ÂÆöÂèØÈù†ÁöÑÊúçÂãôÂìÅË≥™';
} else if (appliedPosition === 'Ê•≠Âãô‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑÁ©©ÂÆöÊÄßËÉΩÂª∫Á´ãÂÆ¢Êà∂‰ø°‰ªª!Âª∫Ë≠∞:<br>‚Ä¢ Âª∫Á´ãÁ≥ªÁµ±ÂåñÁöÑÂÆ¢Êà∂Ë∑üÈÄ≤ÊµÅÁ®ã<br>‚Ä¢ ÊåâÈÉ®Â∞±Áè≠Âú∞ÈñãÁôºÂíåÁ∂≠Ë≠∑ÂÆ¢Êà∂<br>‚Ä¢ Áî®ÂèØÈù†ÁöÑÊúçÂãôË¥èÂæóÂÆ¢Êà∂Èï∑ÊúüÂêà‰Ωú';
} else if (appliedPosition === 'Ë°åÈä∑‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑÂü∑Ë°åÂäõËÉΩÁ¢∫‰øùË°åÈä∑ÊàêÊïà!Âª∫Ë≠∞:<br>‚Ä¢ Âà∂ÂÆöÂÆåÊï¥ÁöÑË°åÈä∑Âü∑Ë°åË®àÁï´<br>‚Ä¢ Á¢∫‰øùÂêÑÈ†ÖÊ¥ªÂãïÊåâÊôÇÊåâË≥™ÂÆåÊàê<br>‚Ä¢ Âª∫Á´ãÂèØËøΩËπ§ÁöÑË°åÈä∑ÊïàÊûúÊåáÊ®ô';
}
            } else {
                description = `ÊÇ®ÊìÅÊúâÊ∑±Â∫¶ÁöÑ<strong>ÂàÜÊûêËÉΩÂäõ</strong><span class="score-badge">ÂÑ™Âã¢Â§©Ë≥¶</span><br>ÂñÑÊñºÊî∂ÈõÜË≥áË®ä„ÄÅÊ∑±ÂÖ•Á†îÁ©∂,Âú®ÂÅöÊ±∫Á≠ñÂâçÊúÉÂÖÖÂàÜË©ï‰º∞„ÄÇÊÇ®ÁöÑÈÇèËºØÊÄùÁ∂≠ËÉΩÁÇ∫ÁµÑÁπîÊèê‰æõÁ≤æÊ∫ñÁöÑÁ≠ñÁï•Âª∫Ë≠∞„ÄÇ`;
                
                if (appliedPosition === 'ÈáçË®ìÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑÂàÜÊûêÂäõÈÅ©ÂêàÁßëÂ≠∏ÂåñË®ìÁ∑¥!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Á†îÁ©∂ÈÅãÂãïÁßëÂ≠∏ÂíåË®ìÁ∑¥ÁêÜË´ñ<br>‚Ä¢ Â∞àÊ≥®Êñº<strong>ÂäõÈáèË®ìÁ∑¥</strong>ÁöÑÊï∏ÊìöÂåñÁÆ°ÁêÜ<br>‚Ä¢ Áî®ÁßëÂ≠∏ÊñπÊ≥ïÂàÜÊûêË®ìÁ∑¥ÊïàÊûú<br>‚Ä¢ ÁÇ∫Â≠∏Âì°Êèê‰æõÂü∫ÊñºÊï∏ÊìöÁöÑË®ìÁ∑¥Âª∫Ë≠∞';
                } else if (appliedPosition === 'Âô®Ê¢∞ÁöÆÊãâÊèêÊñØÊïôÁ∑¥') {
                    recommendation = 'ÊÇ®ÁöÑÁ≤æÊ∫ñÂ∫¶ËÉΩÊèêÂçáÊïôÂ≠∏ÂìÅË≥™!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Á†îÁ©∂Ëß£ÂâñÂ≠∏ÂíåÂãï‰ΩúÂäõÂ≠∏<br>‚Ä¢ Á≤æÁ¢∫ÂàÜÊûêÂ≠∏Âì°ÁöÑÂãï‰ΩúÊ®°Âºè<br>‚Ä¢ Áî®ÁêÜË´ñÊîØÊåÅÊÇ®ÁöÑÊïôÂ≠∏ÊñπÊ≥ï';
                } else if (appliedPosition === '‰º∏Â±ïÂ∏´') {
                    recommendation = 'ÊÇ®ÁöÑÂ∞àÊ•≠ÊÄßËÉΩÂª∫Á´ã‰ø°‰ªª!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Â≠∏ÁøíÁ≠ãËÜúÁêÜË´ñÂíåË∫´È´îÁµêÊßã<br>‚Ä¢ Á≤æÊ∫ñË©ï‰º∞ÂÆ¢Êà∂ÁöÑË∫´È´îÁãÄÊ≥Å<br>‚Ä¢ Áî®Â∞àÊ•≠Áü•Ë≠òËß£ÈáãÊúçÂãôÂéüÁêÜ';
                } else if (appliedPosition === 'AIÂàÜÊûêÂ∏´') {
                    recommendation = 'ÊÇ®ÁöÑÂ§©Ë≥¶ÂÆåÁæéÂ•ëÂêàAIÂàÜÊûêÂ∑•‰Ωú!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Á†îÁ©∂Ê©üÂô®Â≠∏ÁøíÂíåÊï∏ÊìöÁßëÂ≠∏<br>‚Ä¢ Âª∫Á´ãÂö¥Ë¨πÁöÑÂàÜÊûêÊñπÊ≥ïË´ñ<br>‚Ä¢ Áî®Êï∏ÊìöÊ¥ûÂØüÁÇ∫Ê±∫Á≠ñÊèê‰æõÊîØÊåÅ<br>‚Ä¢ ÊåÅÁ∫åÂÑ™ÂåñÂàÜÊûêÊ®°ÂûãÁöÑÊ∫ñÁ¢∫ÊÄß';
                }
                // ÊïôÂãôÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÁáüÈÅãÁ∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂàÜÊûêËÉΩÂäõÊòØÁáüÈÅãÊ±∫Á≠ñÁöÑÂà©Âô®!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•ÂàÜÊûêÁáüÈÅãÊï∏ÊìöÂíåÁ∏æÊïàÊåáÊ®ô<br>‚Ä¢ Áî®Êï∏ÊìöÈ©ÖÂãïÁöÑÊñπÂºèÂÑ™ÂåñÊµÅÁ®ã<br>‚Ä¢ Âª∫Á´ãÂÆåÂñÑÁöÑÁáüÈÅãÁõ£ÊéßÈ´îÁ≥ª';
} else if (appliedPosition === 'ÁöÆÊãâÊèêÊñØÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂ∞àÊ•≠ÊÄßËÉΩÊèêÂçáÂúòÈöäÊ∞¥Ê∫ñ!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Á†îÁ©∂ÁöÆÊãâÊèêÊñØÁêÜË´ñÂíåÊäÄË°ì<br>‚Ä¢ Âª∫Á´ãÁßëÂ≠∏ÂåñÁöÑÊïôÁ∑¥Ë©ï‰º∞È´îÁ≥ª<br>‚Ä¢ Áî®Â∞àÊ•≠Áü•Ë≠òÊåáÂ∞éÂúòÈöäÊàêÈï∑';
} else if (appliedPosition === 'ÈáçË®ìÂÅ•Ë∫´ÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂàÜÊûêÂäõÈÅ©ÂêàÁßëÂ≠∏ÂåñÁÆ°ÁêÜ!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Á†îÁ©∂Ë®ìÁ∑¥ÁßëÂ≠∏ÂíåÊñπÊ≥ïË´ñ<br>‚Ä¢ Âª∫Á´ãÊï∏ÊìöÂåñÁöÑÁ∏æÊïàË©ï‰º∞Á≥ªÁµ±<br>‚Ä¢ Áî®Â∞àÊ•≠ÂàÜÊûêÊèêÂçáÂúòÈöäÊïôÂ≠∏ÂìÅË≥™';
} else if (appliedPosition === 'ËÇåËÇâË≥¶ËÉΩ‰º∏Â±ïÊïôÁ∑¥Á∂ìÁêÜ') {
    recommendation = 'ÊÇ®ÁöÑÂ∞àÊ•≠Ê∑±Â∫¶ÊòØÂúòÈöäÁöÑÂü∫Áü≥!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•Á†îÁ©∂Á≠ãËÜúÁêÜË´ñÂíåË∫´È´îÁµêÊßã<br>‚Ä¢ Âª∫Á´ãÁßëÂ≠∏ÂåñÁöÑÊúçÂãôË©ï‰º∞Ê®ôÊ∫ñ<br>‚Ä¢ Áî®Â∞àÊ•≠Áü•Ë≠òÂüπË®ìÂíåÊåáÂ∞éÂúòÈöä';
}
// Ë°åÊîøÈÉ®ËÅ∑‰Ωç
else if (appliedPosition === 'ÂÆ¢ÊúçË°åÊîøÂ∞àÂì°') {
    recommendation = 'ÊÇ®ÁöÑÁ¥∞ÂøÉËÉΩÁ¢∫‰øùÂ∑•‰ΩúÊ∫ñÁ¢∫!Âª∫Ë≠∞:<br>‚Ä¢ ‰ªîÁ¥∞ËôïÁêÜÊØè‰∏ÄÈ†ÖË°åÊîøÁ¥∞ÁØÄ<br>‚Ä¢ Âª∫Á´ãÂÆåÊï¥ÁöÑÂÆ¢Êà∂Ë≥áÊñôÁÆ°ÁêÜ<br>‚Ä¢ Áî®Á≤æÊ∫ñÁöÑË≥áË®äÂõûÊáâÂÆ¢Êà∂ÈúÄÊ±Ç';
} else if (appliedPosition === 'Ê•≠Âãô‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑÂàÜÊûêÂäõËÉΩÁ≤æÊ∫ñÊéåÊè°ÂÆ¢Êà∂!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•ÂàÜÊûêÂÆ¢Êà∂ÈúÄÊ±ÇÂíåÂ∏ÇÂ†¥Ë∂®Âã¢<br>‚Ä¢ Áî®Êï∏ÊìöÊîØÊåÅÊ•≠ÂãôÊ±∫Á≠ñÂíåÁ≠ñÁï•<br>‚Ä¢ Âª∫Á´ãÂÆåÊï¥ÁöÑÂÆ¢Êà∂ÂàÜÊûêË≥áÊñôÂ∫´';
} else if (appliedPosition === 'Ë°åÈä∑‰∫∫Âì°') {
    recommendation = 'ÊÇ®ÁöÑÂàÜÊûêËÉΩÂäõÊòØË°åÈä∑ÊàêÂäüÁöÑÈóúÈçµ!Âª∫Ë≠∞:<br>‚Ä¢ Ê∑±ÂÖ•ÂàÜÊûêÂ∏ÇÂ†¥Êï∏ÊìöÂíåÊ∂àË≤ªËÄÖË°åÁÇ∫<br>‚Ä¢ Áî®Êï∏ÊìöÂÑ™ÂåñË°åÈä∑Á≠ñÁï•ÂíåÊäïÊîæ<br>‚Ä¢ Âª∫Á´ãÁ≤æÊ∫ñÁöÑË°åÈä∑ÊïàÊûúËøΩËπ§È´îÁ≥ª';
}
            }
            
            const primaryPercentage = (primaryTalent.score / primaryTalent.max) * 100;
            const secondaryPercentage = (secondaryTalent.score / secondaryTalent.max) * 100;
            
            if (Math.abs(primaryPercentage - secondaryPercentage) <= 20 && secondaryPercentage >= 40) {
                let secondaryTalentDesc = '';
                if (secondaryTalent.type === 'dynamo') {
                    secondaryTalentDesc = 'ÂêåÊôÇÂÖ∑ÂÇôÂâµÊñ∞Á™ÅÁ†¥ÁöÑËÉΩÂäõ';
                } else if (secondaryTalent.type === 'blaze') {
                    secondaryTalentDesc = 'ÂêåÊôÇÊìÅÊúâÂá∫Ëâ≤ÁöÑ‰∫∫Èöõ‰∫íÂãïËÉΩÂäõ';
                } else if (secondaryTalent.type === 'tempo') {
                    secondaryTalentDesc = 'ÂêåÊôÇÂ±ïÁèæÁ©©ÂÆöÁöÑÂü∑Ë°åÂäõ';
                } else {
                    secondaryTalentDesc = 'ÂêåÊôÇÂÖ∑ÂÇôÊ∑±Â∫¶ÂàÜÊûêËÉΩÂäõ';
                }
                
                description += `<br><br>ÂÄºÂæó‰∏ÄÊèêÁöÑÊòØ,ÊÇ®Âú®<strong>${secondaryTalent.name}</strong>ÊñπÈù¢‰πüÊúâ${secondaryTalent.score.toFixed(1)}/${secondaryTalent.max}ÂàÜÁöÑË°®Áèæ,${secondaryTalentDesc},ÈÄôËÆìÊÇ®ÊàêÁÇ∫<strong>Ë§áÂêàÂûã‰∫∫Êâç</strong>,ËÉΩÂú®Â§öÂÖÉÂåñÁöÑÂ∑•‰ΩúÁí∞Â¢É‰∏≠ÁôºÊèÆÊõ¥Â§ßÂÉπÂÄº„ÄÇ`;
            }
            
            const scoreInterpretation = `
                <div class="score-interpretation">
                    <div class="score-interpretation-title">üìä Â§©Ë≥¶ËÉΩÈáèËß£ËÆÄ</div>
                    <div class="score-interpretation-list">
                        <strong>üí° Â¶Ç‰ΩïÁêÜËß£ÊÇ®ÁöÑÂ§©Ë≥¶ÂàÜÊï∏?</strong><br><br>
                        
                        ÊØèÂÄã‰∫∫ÈÉΩÊúâÁç®ÁâπÁöÑÂ§©Ë≥¶ÁµÑÂêà,ÂàÜÊï∏È´ò‰Ωé‰ª£Ë°®ÊÇ®Âú®Ë©≤ËÉΩÈáè‰∏äÁöÑ<strong>Ëá™ÁÑ∂ÂÇæÂêë</strong>:<br><br>
                        
                        <strong style="color: #7ac19a;">‚óè È´òÂàÜËÉΩÈáè (4-5ÂàÜ)</strong><br>
                        ÈÄôÊòØÊÇ®ÁöÑ<strong>ÂÑ™Âã¢Â§©Ë≥¶</strong>,ÂÅöËµ∑‰æÜÁâπÂà•ÂæóÂøÉÊáâÊâã„ÄÅÂÖÖÊªøËÉΩÈáè„ÄÇÂú®Â∑•‰Ωú‰∏≠Áõ°ÈáèÁôºÊèÆÈÄô‰∫õÂ§©Ë≥¶,ÊúÉËÆìÊÇ®‰∫ãÂçäÂäüÂÄç‰∏îÊ®ÇÂú®ÂÖ∂‰∏≠„ÄÇ<br><br>
                        
                        <strong style="color: #9fcccc;">‚óè ‰∏≠Á≠âËÉΩÈáè (2-3ÂàÜ)</strong><br>
                        ÊÇ®ÂèØ‰ª•<strong>ÈùàÊ¥ªÈÅãÁî®</strong>ÈÄô‰∫õËÉΩÈáè,ÈõñÁÑ∂‰∏çÊòØÊúÄËá™ÁÑ∂ÁöÑÊ®°Âºè,‰ΩÜÂú®ÈúÄË¶ÅÊôÇ‰πüËÉΩÂãù‰ªª„ÄÇÈÅ©Âêà‰ΩúÁÇ∫ËºîÂä©ËÉΩÂäõ„ÄÇ<br><br>
                        
                        <strong style="color: #ba9e60;">‚óè ‰ΩéÂàÜËÉΩÈáè (0-1ÂàÜ)</strong><br>
                        ÈÄô‰∏ç‰ª£Ë°®ÊÇ®„Äå‰∏çÊìÖÈï∑„Äç,ËÄåÊòØÈÄô<strong>‰∏çÊòØÊÇ®ÁöÑËá™ÁÑ∂ÂÇæÂêë</strong>„ÄÇËàáÂÖ∂Á°¨Êíê,‰∏çÂ¶ÇÂ∞ãÊ±ÇÂúòÈöä‰∫íË£úÊàñË™øÊï¥Â∑•‰ΩúÊñπÂºè„ÄÇ<br><br>
                        
                        <strong style="color: #f2ac98;">üéØ ÈáçÈªûÊèêÈÜí</strong><br>
                        Ê≤íÊúâ„ÄåÂÆåÁæé„ÄçÁöÑÂ§©Ë≥¶ÁµÑÂêà!ÈóúÈçµÊòØÊâæÂà∞ËÉΩËÆìÊÇ®ÁôºÊèÆÂÑ™Âã¢ÁöÑËÅ∑‰ΩçËàáÂ∑•‰ΩúÊñπÂºè,‰∏¶ËàáÊìÅÊúâ‰∏çÂêåÂ§©Ë≥¶ÁöÑ‰∫∫‰∫íË£úÂêà‰Ωú„ÄÇ
                    </div>
                </div>
            `;
            
            document.getElementById('recommendedPosition').innerHTML = description + '<br><br><strong style="color: #c67566;">üíº ÈáùÂ∞ç„Äé' + appliedPosition + '„ÄèÁöÑÁôºÂ±ïÂª∫Ë≠∞:</strong><br>' + recommendation + scoreInterpretation;
        }
function nextSection(current) {
            if (current === 1) {
                document.getElementById('sectionResult').classList.remove('active');
                currentSection = 2;
                document.getElementById('section2').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }

            if (current === 2) {
                const name = document.getElementById('name').value.trim();
                const phone = document.getElementById('phone').value.trim();
                const gender = document.querySelector('input[name="gender"]:checked');
                const birthYear = document.getElementById('birthYear').value;
                const birthMonth = document.getElementById('birthMonth').value;
                const birthDay = document.getElementById('birthDay').value;
                const email = document.getElementById('email').value.trim();

                if (!name) {
                    alert('Ë´ãÂ°´ÂØ´ÂßìÂêç');
                    return;
                }

                if (!phone || !/^09[0-9]{8}$/.test(phone)) {
                    alert('ÈõªË©±Ê†ºÂºèÈåØË™§,Ë´ãËº∏ÂÖ• 09 ÈñãÈ†≠ÂÖ± 10 Á¢ºÁöÑÊâãÊ©üËôüÁ¢º');
                    return;
                }

                if (!gender) {
                    alert('Ë´ãÈÅ∏ÊìáÊÄßÂà•');
                    return;
                }

                if (!birthYear || !birthMonth || !birthDay) {
                    alert('Ë´ãÈÅ∏ÊìáÂÆåÊï¥ÁöÑÂá∫ÁîüÊó•Êúü');
                    return;
                }

                if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    alert('‰ø°ÁÆ±Ê†ºÂºèÈåØË™§,Ë´ãËº∏ÂÖ•ÂÆåÊï¥ÁöÑÈõªÂ≠ê‰ø°ÁÆ±Âú∞ÂùÄ');
                    return;
                }

                document.getElementById('section2').classList.remove('active');
                currentSection = 3;
                document.getElementById('section3').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }

            if (current === 3) {
                const work3years = document.querySelector('input[name="work3years"]:checked');
                const lastJobLeaveReason = document.getElementById('lastJobLeaveReason').value.trim();
                const familyInteraction = document.querySelector('input[name="familyInteraction"]:checked');
                const parentQuote = document.getElementById('parentQuote').value.trim();
                const failureExperience = document.getElementById('failureExperience').value.trim();
                const learningInitiative = document.getElementById('learningInitiative').value.trim();
                const newSkillArrangement = document.getElementById('newSkillArrangement').value.trim();
                const futureGoal = document.getElementById('futureGoal').value.trim();

                if (!work3years || !lastJobLeaveReason || !familyInteraction || !parentQuote || 
                    !failureExperience || !learningInitiative || !newSkillArrangement || !futureGoal) {
                    alert('Ë´ãÂ°´ÂØ´ÊâÄÊúâÂøÖÂ°´Ê¨Ñ‰Ωç');
                    return;
                }

                if (work3years.value === 'Êúâ') {
                    const leaveReason3Years = document.getElementById('leaveReason3Years').value.trim();
                    if (!leaveReason3Years) {
                        alert('Ë´ãÂ°´ÂØ´Èõ¢ÈñãÈÇ£‰ªΩÂ∑•‰ΩúÁöÑÂéüÂõ†');
                        return;
                    }
                } else {
                    const longestWorkDuration = document.getElementById('longestWorkDuration').value.trim();
                    if (!longestWorkDuration) {
                        alert('Ë´ãÂ°´ÂØ´ÊúÄ‰πÖÁöÑÂ∑•‰ΩúÊôÇÈñì');
                        return;
                    }
                }

                // üî• Ë®àÁÆóÂ≠∏ÁøíË©ïÂàÜ(Èö±ËóèË©ïÂàÜ,‰∏çÈ°ØÁ§∫Áµ¶Áî®Êà∂)
                learningScores.learningBehavior = calculateLearningBehaviorScore(learningInitiative);
                learningScores.crossSkillInvestment = calculateCrossSkillScore(newSkillArrangement);

                document.getElementById('section3').classList.remove('active');
                currentSection = 4;
                document.getElementById('section4').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }
        }

        function prevSection(current) {
            if (current === '1b') {
                document.getElementById('section1b').classList.remove('active');
                currentSection = 1;
                document.getElementById('section1').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }

            if (current === 2) {
                document.getElementById('section2').classList.remove('active');
                currentSection = 1.5;
                document.getElementById('sectionResult').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }

            if (current === 3) {
                document.getElementById('section3').classList.remove('active');
                currentSection = 2;
                document.getElementById('section2').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }

            if (current === 4) {
                document.getElementById('section4').classList.remove('active');
                currentSection = 3;
                document.getElementById('section3').classList.add('active');
                updateProgress();
                window.scrollTo(0, 0);
                return;
            }
        }

        function updateProgress() {
            let progress, stepNumber;
            
            if (currentSection === 1) {
                progress = (1 / totalSections) * 100;
                stepNumber = 1;
            } else if (currentSection === 1.5) {
                progress = (2 / totalSections) * 100;
                stepNumber = 2;
            } else if (currentSection === 2) {
                progress = (3 / totalSections) * 100;
                stepNumber = 3;
            } else if (currentSection === 3) {
                progress = (4 / totalSections) * 100;
                stepNumber = 4;
            } else if (currentSection === 4) {
                progress = (5 / totalSections) * 100;
                stepNumber = 5;
            } else {
                progress = 100;
                stepNumber = 6;
            }
            
            const progressFill = document.getElementById('progressFill');
            if (progressFill) {
                progressFill.style.width = progress + '%';
            }
            
            for (let i = 1; i <= 6; i++) {
                const stepElement = document.getElementById('step' + i);
                if (stepElement) {
                    stepElement.classList.remove('active', 'completed');
                    
                    if (i < stepNumber) {
                        stepElement.classList.add('completed');
                    } else if (i === stepNumber) {
                        stepElement.classList.add('active');
                    }
                }
            }
        }

        const selectedFiles = {
            imageFiles: [],
            pdfFiles: []
        };

        function handleFileSelect(input, previewId) {
            const previewContainer = document.getElementById(previewId);
            if (!input || !input.files || !previewContainer) {
                return;
            }

            const inputId = input.id;

            if (input.files.length > 0) {
                const newFiles = Array.from(input.files);
                const existingFiles = selectedFiles[inputId] || [];
                
                const isImageInput = inputId === 'imageFiles';
                const isPdfInput = inputId === 'pdfFiles';
                
                const invalidFiles = [];
                const validFiles = [];
                
                newFiles.forEach(newFile => {
                    const fileType = newFile.type.toLowerCase();
                    const fileName = newFile.name.toLowerCase();
                    
                    let isValidType = false;
                    
                    if (isImageInput) {
                        isValidType = 
                            fileType === 'image/jpeg' ||
                            fileType === 'image/jpg' ||
                            fileType === 'image/png' ||
                            fileName.endsWith('.jpg') ||
                            fileName.endsWith('.jpeg') ||
                            fileName.endsWith('.png');
                    } else if (isPdfInput) {
                        isValidType = 
                            fileType === 'application/pdf' ||
                            fileName.endsWith('.pdf');
                    } else {
                        isValidType = true;
                    }
                    
                    if (!isValidType) {
                        invalidFiles.push(newFile.name);
                    } else {
                        const isDuplicate = existingFiles.some(existingFile => 
                            existingFile.name === newFile.name && existingFile.size === newFile.size
                        );
                        if (!isDuplicate) {
                            validFiles.push(newFile);
                        }
                    }
                });
                
                if (invalidFiles.length > 0) {
                    const expectedFormat = isImageInput ? 'ÂúñÁâá (JPG/PNG)' : 'PDF';
                    alert('‰ª•‰∏ãÊ™îÊ°àÊ†ºÂºè‰∏çÁ¨¶Âêà,Â∑≤Ëá™ÂãïÊéíÈô§:\n\n' + invalidFiles.join('\n') + '\n\nÊ≠§Ê¨Ñ‰ΩçÂÉÖÊîØÊè¥: ' + expectedFormat);
                }
                
                validFiles.forEach(file => existingFiles.push(file));
                selectedFiles[inputId] = existingFiles;

                const dt = new DataTransfer();
                existingFiles.forEach(file => dt.items.add(file));
                input.files = dt.files;
            }

            const allFiles = selectedFiles[inputId] || [];
            
            if (allFiles.length === 0) {
                previewContainer.classList.remove('show');
                previewContainer.innerHTML = '';
                updateTotalSize();
                return;
            }

            const maxSingleSize = 3 * 1024 * 1024;
            const oversizedFiles = [];
            allFiles.forEach(file => {
                if (file.size > maxSingleSize) {
                    oversizedFiles.push(file.name + ' (' + (file.size / (1024 * 1024)).toFixed(1) + ' MB)');
                }
            });

            if (oversizedFiles.length > 0) {
                alert('‰ª•‰∏ãÊ™îÊ°àË∂ÖÈÅé 3MB,Âª∫Ë≠∞Â£ìÁ∏ÆÂæåÂÜç‰∏äÂÇ≥:\n\n' + oversizedFiles.join('\n') + '\n\nÈÅéÂ§ßÁöÑÊ™îÊ°àÂèØËÉΩÂ∞éËá¥Êèê‰∫§Â§±Êïó!');
            }

            previewContainer.innerHTML = '<div class="file-preview-title">Â∑≤ÈÅ∏Êìá ' + allFiles.length + ' ÂÄãÊ™îÊ°à:</div><div class="file-preview-list" id="' + previewId + '_list"></div>';
            previewContainer.classList.add('show');

            const listContainer = document.getElementById(previewId + '_list');

            allFiles.forEach((file, index) => {
                const item = document.createElement('div');
                item.className = 'file-preview-item';
                item.dataset.index = index;

                const fileType = file.type;
                let iconHtml = '';

                if (fileType.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = item.querySelector('.file-preview-icon');
                        if (img) {
                            img.src = e.target.result;
                        }
                    };
                    reader.readAsDataURL(file);
                    iconHtml = '<img class="file-preview-icon" src="" alt="È†êË¶Ω">';
                } else if (fileType === 'application/pdf') {
                    iconHtml = '<div class="file-preview-icon pdf">PDF</div>';
                } else if (fileType.includes('word') || fileType.includes('document')) {
                    iconHtml = '<div class="file-preview-icon doc">DOC</div>';
                } else {
                    iconHtml = '<div class="file-preview-icon doc">üìÑ</div>';
                }

                const fileSize = file.size < 1024 * 1024 
                    ? (file.size / 1024).toFixed(1) + ' KB'
                    : (file.size / (1024 * 1024)).toFixed(1) + ' MB';

                const sizeClass = file.size > maxSingleSize ? 'style="color: #f2ac98; font-weight: bold;"' : '';

                item.innerHTML = `
                    ${iconHtml}
                    <div class="file-preview-info">
                        <div class="file-preview-name">${file.name}</div>
                        <div class="file-preview-size" ${sizeClass}>${fileSize}</div>
                    </div>
                    <button class="file-preview-remove" onclick="removeFile('${inputId}', '${previewId}', ${index})" type="button">√ó</button>
                `;

                listContainer.appendChild(item);
            });

            updateTotalSize();
        }

        function removeFile(inputId, previewId, index) {
            const input = document.getElementById(inputId);
            if (!input) return;

            if (selectedFiles[inputId]) {
                selectedFiles[inputId].splice(index, 1);
            }

            const dt = new DataTransfer();
            selectedFiles[inputId].forEach(file => dt.items.add(file));
            input.files = dt.files;

            if (selectedFiles[inputId].length > 0) {
                handleFileSelect(input, previewId);
            } else {
                const previewContainer = document.getElementById(previewId);
                previewContainer.classList.remove('show');
                previewContainer.innerHTML = '';
                updateTotalSize();
            }
        }

        function updateTotalSize() {
            let totalSize = 0;
            
            Object.keys(selectedFiles).forEach(key => {
                if (selectedFiles[key]) {
                    selectedFiles[key].forEach(file => {
                        totalSize += file.size;
                    });
                }
            });

            const totalSizeDisplay = document.getElementById('totalSizeDisplay');
            const totalSizeValue = document.getElementById('totalSizeValue');
            const maxTotalSize = 5 * 1024 * 1024;

            if (totalSize > 0) {
                totalSizeDisplay.style.display = 'block';
                const sizeMB = (totalSize / (1024 * 1024)).toFixed(2);
                totalSizeValue.textContent = sizeMB + ' MB';

                if (totalSize > maxTotalSize) {
                    totalSizeDisplay.classList.add('warning');
                    totalSizeValue.textContent = sizeMB + ' MB ‚ö†Ô∏è Ë∂ÖÈÅéÈôêÂà∂!';
                } else {
                    totalSizeDisplay.classList.remove('warning');
                }
            } else {
                totalSizeDisplay.style.display = 'none';
            }
        }

        // üî• ÂúñÁâáÂ£ìÁ∏ÆÂáΩÊï∏
        function compressImage(base64, quality = 0.7) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    
                    // ÈôêÂà∂ÊúÄÂ§ßÂØ¨Â∫¶ÁÇ∫ 1920px
                    const maxWidth = 1920;
                    let width = img.width;
                    let height = img.height;
                    
                    if (width > maxWidth) {
                        height = (height * maxWidth) / width;
                        width = maxWidth;
                    }
                    
                    canvas.width = width;
                    canvas.height = height;
                    
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    // Â£ìÁ∏Æ‰∏¶ËΩâÁÇ∫ Base64
                    resolve(canvas.toDataURL('image/jpeg', quality));
                };
                img.src = base64;
            });
        }
async function submitForm() {
            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const gender = document.querySelector('input[name="gender"]:checked')?.value;
            const birthYear = document.getElementById('birthYear').value;
            const birthMonth = document.getElementById('birthMonth').value;
            const birthDay = document.getElementById('birthDay').value;
            const email = document.getElementById('email').value.trim();

            if (!name || !phone || !gender || !birthYear || !birthMonth || !birthDay || !email) {
                alert('Ë´ãÂ°´ÂØ´ÊâÄÊúâÂøÖÂ°´Ê¨Ñ‰Ωç');
                return;
            }

            if (!/^09[0-9]{8}$/.test(phone)) {
                alert('ÈõªË©±Ê†ºÂºèÈåØË™§,Ë´ãËº∏ÂÖ• 09 ÈñãÈ†≠ÂÖ± 10 Á¢ºÁöÑÊâãÊ©üËôüÁ¢º');
                return;
            }

            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                alert('‰ø°ÁÆ±Ê†ºÂºèÈåØË™§,Ë´ãËº∏ÂÖ•ÂÆåÊï¥ÁöÑÈõªÂ≠ê‰ø°ÁÆ±Âú∞ÂùÄ');
                return;
            }

            let totalSize = 0;
            Object.keys(selectedFiles).forEach(key => {
                if (selectedFiles[key]) {
                    selectedFiles[key].forEach(file => {
                        totalSize += file.size;
                    });
                }
            });

            const maxTotalSize = 5 * 1024 * 1024;
            if (totalSize > maxTotalSize) {
                alert('Ê™îÊ°àÁ∏ΩÂ§ßÂ∞èË∂ÖÈÅé 5MB ÈôêÂà∂!\n\nÁõÆÂâçÁ∏ΩÂ§ßÂ∞è: ' + (totalSize / (1024 * 1024)).toFixed(2) + ' MB\n\nË´ãÂà™Èô§ÈÉ®ÂàÜÊ™îÊ°àÊàñÂ£ìÁ∏ÆÂæåÂÜçË©¶„ÄÇ');
                return;
            }

            const birthday = `${birthYear}-${birthMonth}-${birthDay}`;

            currentSection = 5;
            updateProgress();

            document.getElementById('section4').style.display = 'none';
            document.getElementById('loading').classList.add('show');

            const imageFiles = selectedFiles.imageFiles || [];
            const pdfFiles = selectedFiles.pdfFiles || [];

            // üî• ‰øÆÊ≠£:Ê™îÊ°àËΩâ Base64 ÂáΩÊï∏(Âä†‰∏äÂúñÁâáÂ£ìÁ∏Æ)
            async function fileToBase64(file) {
                return new Promise(async (resolve, reject) => {
                    if (!file) {
                        resolve(null);
                        return;
                    }
                    const reader = new FileReader();
                    reader.onload = async () => {
                        let result = reader.result;
                        
                        // üî• Â¶ÇÊûúÊòØÂúñÁâá‰∏îÂ§ßÊñº 500KB,ÈÄ≤Ë°åÂ£ìÁ∏Æ
                        if (file.type.startsWith('image/') && file.size > 500 * 1024) {
                            try {
                                result = await compressImage(result, 0.7);
                            } catch (err) {
                                console.warn('ÂúñÁâáÂ£ìÁ∏ÆÂ§±Êïó,‰ΩøÁî®ÂéüÂßãÊ™îÊ°à:', err);
                            }
                        }
                        
                        resolve({
                            name: file.name,
                            type: file.type,
                            size: file.size,
                            data: result
                        });
                    };
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }

            try {
                // ËôïÁêÜÂúñÁâáÊ™îÊ°à
                const imageFileData = [];
                const imageFileNames = [];
                for (let i = 0; i < imageFiles.length; i++) {
                    const fileData = await fileToBase64(imageFiles[i]);
                    if (fileData) {
                        imageFileData.push(fileData);
                        imageFileNames.push(imageFiles[i].name);
                    }
                }
                
                // ËôïÁêÜ PDF Ê™îÊ°à
                const pdfFileData = [];
                const pdfFileNames = [];
                for (let i = 0; i < pdfFiles.length; i++) {
                    const fileData = await fileToBase64(pdfFiles[i]);
                    if (fileData) {
                        pdfFileData.push(fileData);
                        pdfFileNames.push(pdfFiles[i].name);
                    }
                }
                
                // Áî¢ÁîüÊ™îÊ°àÊ∏ÖÂñÆ
                const fileList = [];
                imageFileNames.forEach(name => fileList.push(`${name}(ÂúñÁâá)`));
                pdfFileNames.forEach(name => fileList.push(`${name}(PDF)`));
                const fileListString = fileList.join(' | ');
                
                // Áî¢ÁîüÂúñË°®ÂúñÁâá
                const talentChartCanvas = document.getElementById('talentChart');
                const talentChartImage = talentChartCanvas ? talentChartCanvas.toDataURL('image/png') : '';
                
                const lifeValueChartCanvas = document.getElementById('lifeValueChart');
                const lifeValueChartImage = lifeValueChartCanvas ? lifeValueChartCanvas.toDataURL('image/png') : '';

                // üî• ‰øÆÊ≠£:ÁµÑÂêàÂÆåÊï¥ÁöÑË°®ÂñÆË≥áÊñô
const formData = {
    submittedAt: new Date().toISOString(),
    
    // ËÅ∑‰ΩçË≥áË®äÔºàÈÉ®ÈñÄ + ËÅ∑‰Ωç Âêà‰ΩµÔºâ
    position: (positionData.department && positionData.position) 
        ? `${positionData.department} - ${positionData.position}` 
        : (positionData.position || ''),
                    specialty_1: positionData.specialty_1 || '',
                    specialty_2: positionData.specialty_2 || '',
                    medicalBackground: positionData.medicalBackground || '',
                    
                    // ÂÄã‰∫∫Ë≥áÊñô
                    name: name,
                    phone: phone,
                    phoneDisplay: phone,
                    gender: gender,
                    birthday: birthday,
                    email: email,
                    
                    // Â§©Ë≥¶ÂàÜÊï∏
                    talent_dynamo: talentScores.dynamo || 0,
                    talent_blaze: talentScores.blaze || 0,
                    talent_tempo: talentScores.tempo || 0,
                    talent_steel: talentScores.steel || 0,
                    talent_dynamo_raw: talentScores.raw?.dynamo || 0,
                    talent_blaze_raw: talentScores.raw?.blaze || 0,
                    talent_tempo_raw: talentScores.raw?.tempo || 0,
                    talent_steel_raw: talentScores.raw?.steel || 0,
                    
                    // Ê∑±Â∫¶ÂïèÁ≠î
                    work3years: document.querySelector('input[name="work3years"]:checked')?.value || '',
                    leaveReason3Years: document.getElementById('leaveReason3Years')?.value || '',
                    longestWorkDuration: document.getElementById('longestWorkDuration')?.value || '',
                    lastJobLeaveReason: document.getElementById('lastJobLeaveReason')?.value || '',
                    familyInteraction: document.querySelector('input[name="familyInteraction"]:checked')?.value || '',
                    parentQuote: document.getElementById('parentQuote')?.value || '',
                    
                    // ‰∫∫ÁîüÂÉπÂÄºËßÄ
                    lifeValue_career: lifeValueScores.career || 0,
                    lifeValue_money: lifeValueScores.money || 0,
                    lifeValue_family: lifeValueScores.family || 0,
                    lifeValue_relationship: lifeValueScores.relationship || 0,
                    lifeValue_health: lifeValueScores.health || 0,
                    lifeValue_alone: lifeValueScores.alone || 0,
                    lifeValue_friends: lifeValueScores.friends || 0,
                    
                    // Á∂ìÈ©óËàáÁõÆÊ®ô
                    failureExperience: document.getElementById('failureExperience')?.value || '',
                    learningInitiative: document.getElementById('learningInitiative')?.value || '',
                    newSkillArrangement: document.getElementById('newSkillArrangement')?.value || '',
                    futureGoal: document.getElementById('futureGoal')?.value || '',
                    
                    // üî• Â≠∏ÁøíË©ïÂàÜ(Èö±ËóèË©ïÂàÜ)
                    learningBehaviorScore: learningScores.learningBehavior || 0,
                    crossSkillInvestmentScore: learningScores.crossSkillInvestment || 0,
                    managementPotentialScore: (learningScores.learningBehavior + learningScores.crossSkillInvestment) || 0,
                    
                    // Ê™îÊ°àË≥áË®ä
                    imageFileCount: imageFiles.length,
                    imageFileList: imageFileNames.join(' | '),
                    pdfFileCount: pdfFiles.length,
                    pdfFileList: pdfFileNames.join(' | '),
                    totalFileCount: imageFiles.length + pdfFiles.length,
                    fileList: fileListString,
                    
                    // ÂúñË°®ÂúñÁâá
                    talentChartImage: talentChartImage,
                    lifeValueChartImage: lifeValueChartImage,
                    
                    // Ê™îÊ°àË≥áÊñô
                    imageFiles: imageFileData,
                    pdfFiles: pdfFileData,
                    
                    // Ê™îÊ°àÂêçÁ®±(‰æõ Make.com ‰ΩøÁî®)
                    image_1_name: imageFileNames[0] || '',
                    image_2_name: imageFileNames[1] || '',
                    image_3_name: imageFileNames[2] || '',
                    pdf_1_name: pdfFileNames[0] || '',
                    pdf_2_name: pdfFileNames[1] || '',
                    pdf_3_name: pdfFileNames[2] || ''
                };

                console.log('Ê∫ñÂÇôÊèê‰∫§Ë≥áÊñô,Â§ßÂ∞è:', JSON.stringify(formData).length, 'bytes');

                // üî• ÁôºÈÄÅÂà∞ API (Cloudflare Worker Êàñ Make.com)
                const response = await fetch(API_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                document.getElementById('loading').classList.remove('show');
                
                console.log('API ÂõûÊáâÁãÄÊÖã:', response.status);

                if (response.ok || response.status === 200) {
                    currentSection = 6;
                    updateProgress();
                    
                    document.getElementById('successMessage').classList.add('show');
                    
                    console.log('‚úÖ Êèê‰∫§ÊàêÂäü!');
                } else {
                    const errorText = await response.text();
                    console.error('‚ùå Êèê‰∫§Â§±Êïó:', response.status, errorText);
                    
                    let errorMessage = 'Êèê‰∫§Â§±Êïó,Ë´ãÁ®çÂæåÂÜçË©¶„ÄÇ\n\n';
                    errorMessage += 'ÈåØË™§‰ª£Á¢º: ' + response.status + '\n';
                    
                    if (response.status === 400) {
                        errorMessage += '\nÂèØËÉΩÂéüÂõ†:\n';
                        errorMessage += '‚Ä¢ Ë≥áÊñôÊ†ºÂºèÈåØË™§\n';
                        errorMessage += '‚Ä¢ Ê™îÊ°àÈÅéÂ§ßÊàñÊ†ºÂºè‰∏çÊ≠£Á¢∫\n';
                        errorMessage += '‚Ä¢ Ë´ãÊ™¢Êü•ÊâÄÊúâÊ¨Ñ‰ΩçÊòØÂê¶Ê≠£Á¢∫Â°´ÂØ´\n\n';
                        errorMessage += 'Âª∫Ë≠∞:\n';
                        errorMessage += '1. Ê∏õÂ∞ë‰∏äÂÇ≥Ê™îÊ°àÊï∏Èáè\n';
                        errorMessage += '2. Â£ìÁ∏ÆÂúñÁâáÂæåÂÜçË©¶\n';
                        errorMessage += '3. Á¢∫Ë™çÊâÄÊúâÂøÖÂ°´Ê¨Ñ‰ΩçÂ∑≤Â°´ÂØ´';
                    } else if (response.status === 413) {
                        errorMessage += '\nÊ™îÊ°àÈÅéÂ§ß!Ë´ãÊ∏õÂ∞ëÊ™îÊ°àÊï∏ÈáèÊàñÂ£ìÁ∏ÆÂæåÂÜçË©¶„ÄÇ';
                    } else if (response.status === 500) {
                        errorMessage += '\n‰º∫ÊúçÂô®ÈåØË™§,Ë´ãÁ®çÂæåÂÜçË©¶ÊàñËÅØÁπ´ÊäÄË°ì‰∫∫Âì°„ÄÇ';
                    }
                    
                    alert(errorMessage);
                    document.getElementById('section4').style.display = 'block';
                    currentSection = 4;
                    updateProgress();
                }
            } catch (error) {
                console.error('‚ùå Êèê‰∫§ÈåØË™§:', error);
                document.getElementById('loading').classList.remove('show');
                
                let errorMessage = 'Êèê‰∫§ÊôÇÁôºÁîüÈåØË™§:\n\n';
                errorMessage += error.message + '\n\n';
                errorMessage += 'ÂèØËÉΩÂéüÂõ†:\n';
                errorMessage += '‚Ä¢ Á∂≤Ë∑ØÈÄ£Á∑öÂïèÈ°å\n';
                errorMessage += '‚Ä¢ Ê™îÊ°àÈÅéÂ§ß\n';
                errorMessage += '‚Ä¢ ÁÄèË¶ΩÂô®‰∏çÊîØÊè¥\n\n';
                errorMessage += 'Âª∫Ë≠∞:\n';
                errorMessage += '1. Ê™¢Êü•Á∂≤Ë∑ØÈÄ£Á∑ö\n';
                errorMessage += '2. Ê∏õÂ∞ë‰∏äÂÇ≥Ê™îÊ°à\n';
                errorMessage += '3. ‰ΩøÁî®ÊúÄÊñ∞Áâà Chrome Êàñ Safari\n';
                errorMessage += '4. Á®çÂæåÂÜçË©¶';
                
                alert(errorMessage);
                document.getElementById('section4').style.display = 'block';
                currentSection = 4;
                updateProgress();
            }
        }
    </script>
</body>

</html>
